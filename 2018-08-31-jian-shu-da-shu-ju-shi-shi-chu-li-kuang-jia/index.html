<!DOCTYPE html><html><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><link rel="preload" href="/component---src-layouts-index-js-b08fc8ddc320071724cc.js" as="script"/><link rel="preload" href="/component---src-templates-blog-post-js-c529b58eeee5ee350f19.js" as="script"/><link rel="preload" href="/path---2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia-6208cd03c636fb86f0d9.js" as="script"/><link rel="preload" href="/app-96096ed9b4fb2fbacb27.js" as="script"/><link rel="preload" href="/commons-8761948dcb0a891572a6.js" as="script"/><script id="webpack-manifest">/*<![CDATA[*/window.webpackManifest={"231608221292675":"app-96096ed9b4fb2fbacb27.js","99219681209289":"component---node-modules-gatsby-plugin-offline-app-shell-js-5c4c5a0f7af9dc69d6d7.js","107818501498521":"component---src-templates-blog-post-js-c529b58eeee5ee350f19.js","35783957827783":"component---src-pages-index-js-0f02b4adf8e9da7261b4.js","60335399758886":"path----557518bd178906f8d58a.js","210333531512890":"path---offline-plugin-app-shell-fallback-a0e39f21c11f6a62c5ab.js","89025254229525":"path---2018-01-05-create-a-redux-middleware-ff58d930d80d4673d2d5.js","279905940220328":"path---2018-01-05-d-3-js-v-3-data-driven-and-d-3-force-807967eddaa714190fce.js","219764097763031":"path---2018-01-05-to-vim-1894832bd0ca5b4a9b3e.js","157257592092981":"path---2018-01-06-react-higher-order-component-5f549e03f360695107cf.js","262578598058983":"path---2018-01-08-mapbox-gl-js-48aecd009aacb80b927d.js","196068886186420":"path---2018-01-07-the-importance-of-visual-appeal-in-web-design-62a297dfab2242d38e7b.js","23187391589446":"path---2018-01-12-translation-react-animations-in-depth-8e7076f7a8a7f7a1bdba.js","6793600212152":"path---2018-01-13-zi-ji-dong-shou-xie-yi-ge-simplevue-db8c58daad44b1e93c0f.js","32967805505621":"path---2018-01-14-antd-yuan-ma-jie-du-notification-56c4ec4a9cdc7ef654cc.js","69481715157605":"path---2018-01-10-ru-he-kuo-zhan-create-react-app-de-webpack-pei-zhi-0e80c3238d636c8d0612.js","39640496791730":"path---2018-01-19-fan-yi-shi-yong-css-zhui-zong-yong-hu-6e9ce08bc653cf55b8b0.js","277460532986788":"path---2018-01-14-learn-koa-intro-ad9a43b6e5935185299a.js","117281115130518":"path---2018-01-19-xia-yi-dai-tong-xin-xie-yi-quic-a273a681a88943218b40.js","46988809625074":"path---2018-01-14-ui-zhong-de-pai-ban-chu-xue-zhe-zhi-nan-99c2676300e381335caa.js","114870412971589":"path---2018-01-21-electron-with-react-a05054a2611aac7fa1c8.js","143118351806255":"path---2018-01-20-fan-yi-ui-she-ji-zhong-de-ge-shi-ta-yuan-ze-37fba2170269f4333e44.js","128261144143865":"path---2018-01-21-how-django-works-581ce91e4563931f3e43.js","53100542264026":"path---2018-01-22-web-qian-duan-jian-dan-ding-yue-de-shi-xian-330ccf13bd8b79559055.js","8268344425282":"path---2018-01-27-javascript-mo-huan-dai-li-02ba7f204d813eb0db83.js","129392513544228":"path---2018-01-28-fan-yi-react-zu-jian-mo-shi-30757f0afd4a6e06c835.js","257662458733671":"path---2018-01-28-fan-yi-bu-yao-rang-yong-hu-zai-chan-pin-ti-yan-shang-shou-dao-cuo-zhe-717118e237c4ee8fe94f.js","140768795206642":"path---2018-01-28-redux-promise-middleware-860f01a089d800689bf1.js","28022044022965":"path---2018-01-29-kuai-su-da-jian-ni-de-github-page-ge-ren-bo-ke-ji-yu-createreactapp-de-dan-ye-mian-ying-yong-shi-jian-a0a6991a7dd4084d9a98.js","253208788885987":"path---2018-02-01-fan-yi-react-xin-de-contextapi-040a683110e9dcf96ffe.js","138857164770336":"path---2018-02-03-fan-yi-liu-ge-xuan-ze-ui-yan-se-de-ji-qiao-af9f80c2cad782c61c8d.js","78361991370501":"path---2018-02-03-wo-de-di-yi-ge-node-ming-ling-hang-gong-ju-88aee8527c7c7ef37d1d.js","174874746290192":"path---2018-02-03-huo-yong-git-apply-he-ru-patch-bu-ding-5e5d0a863df8512b397c.js","209208409789820":"path---2018-02-04-fan-yi-reactscope-jie-shao-cd8aa546c985c3b323b9.js","276336876013420":"path---2018-02-05-ji-yi-ci-jian-dan-de-csrf-gong-ji-shi-yan-a0c6ad7f76fdf6f177b0.js","253826127506409":"path---2018-02-23-css-3-clip-path-yong-fa-jie-shao-598037abb144b3406ecd.js","59482808288825":"path---2018-02-09-zan-lai-liao-liao-vuecompile-3569d5e07b20764f00c7.js","204444651758955":"path---2018-02-23-du-shu-bi-ji-ke-shi-hua-shi-yi-zhong-yi-shu-bu-zhi-shi-mei-xin-xi-tu-biao-she-ji-yuan-li-yu-jing-dian-an-li-xu-zhang-94d32ceb0e601892363b.js","178770146110840":"path---2018-02-23-mei-ge-node-ying-yong-ke-neng-cun-zai-de-timing-attack-an-quan-lou-dong-8d8a1467d3d5b60ed94e.js","243272552510455":"path---2018-03-01-wei-xian-de-targetblank-yu-opener-68ccd59af36260392465.js","119617529537334":"path---2018-02-28-activerecord-he-datamappers-mo-shi-jian-jie-abadac99e88ec219acc6.js","269012442389968":"path---2018-02-26-bu-jin-jin-shi-piao-liang-tu-xiang-ru-he-qu-dong-yong-hu-ti-yan-8253adf01c0b0df4431f.js","102999647919638":"path---2018-03-05-ru-he-shi-yong-mac-po-jie-wifi-4ba5fba35cb46416bec7.js","212308226122369":"path---2018-03-05-fan-yi-ru-he-zhao-dao-wan-mei-de-se-cai-da-pei-jie-shao-colorclaim-d5ef80de58c1eac4935f.js","32913839654876":"path---2018-03-11-bikeshedding-edc7e1d0294ed9c0b802.js","120965888795523":"path---2018-03-05-yi-ge-chrome-kuo-zhan-jiu-zhe-yang-dan-sheng-liao-52f1733a9e925804d9b2.js","232262378615525":"path---2018-03-11-xin-shou-shi-jiao-de-docker-9fb0464ede675b37329a.js","164635030972412":"path---2018-03-07-fan-yi-ji-yu-cypress-ce-shi-react-ying-yong-cdd1bb86e437e2ab5198.js","39599850771786":"path---2018-03-12-fan-yi-rang-wo-men-cong-ling-kai-shi-bian-bian-xie-yi-ge-web-fu-wu-qi-88d34cd24255b589ab2d.js","85861506740977":"path---2018-03-17-yi-zhong-qian-hou-duan-fen-li-de-kua-yu-kai-fa-fang-shi-36daacc8c00044224f38.js","23445383189946":"path---2018-03-16-yuan-chuang-ji-yu-babylonjs-shi-xian-3-d-da-ji-xiao-guo-02d1548226e5e747866c.js","129130497808932":"path---2018-03-13-fan-yi-ru-he-chuang-jian-jiao-hu-you-hao-de-biao-dan-dea3d1649c1081cf87bd.js","250414501193707":"path---2018-03-18-fan-yi-how-to-prevent-your-node-js-process-from-crashing-b12a99cdaf38e54c6480.js","131951168040799":"path---2018-03-19-reactref-zhi-bei-jiao-cheng-34109dd26fc343b95af4.js","18799073097341":"path---2018-03-19-fan-yi-shi-yong-de-ui-dong-hua-ji-qiao-gai-jin-ui-wei-jiao-hu-de-shi-yong-jian-yi-e36ad086d68c6d2793b9.js","142882605808369":"path---2018-03-25-quan-zhan-gong-cheng-shi-zhi-lu-reactnative-zhi-sao-miao-er-wei-ma-a332baf76cb8e866722a.js","154883169488109":"path---2018-03-22-wu-xian-wang-luo-ling-lei-xiu-tan-36d4bc867592b087e948.js","181742874994873":"path---2018-03-25-react-server-side-render-with-hapi-1bd0d1afb6c22127b5ae.js","211310139846101":"path---2018-03-27-fan-yi-nodejstwofactor-shen-fen-ren-zheng-f4ffa95182a5c67cf6fe.js","272944847983516":"path---2018-03-28-shui-dong-liao-wo-de-dom-2882fd9a2113a881008a.js","251999587395427":"path---2018-03-31-fan-yi-http-1-dao-http-2-de-yan-bian-ru-he-gai-bian-liao-web-5273d1c8fb2f643147ff.js","72960716248599":"path---2018-03-25-ru-he-xie-yi-ge-gao-bi-ge-readme-ece850c402c0b38554cb.js","56925708233363":"path---2018-03-25-ru-he-xie-yi-ge-gao-bi-ge-readme-how-to-write-eaaf3b9d21ca3c42a696.js","74474127715648":"path---2018-04-07-fan-yi-yan-fa-ren-yuan-de-sheng-chan-li-shi-fou-ke-yi-liang-hua-a860f5ba6c3ca8f7f845.js","499641849923":"path---2018-03-27-fan-yi-wei-kai-yuan-ruan-jian-she-ji-ed68fa287befd22e127d.js","260297032522762":"path---2018-04-08-fan-yi-mei-ge-uiux-she-ji-shi-du-xu-yao-zhi-dao-de-xin-li-xue-yuan-li-60bd7f1472a50d79bef4.js","22105487002492":"path---2018-04-01-fan-yi-jie-he-tu-xing-he-yu-yin-jie-mian-ti-gong-geng-hao-de-yong-hu-ti-yan-b7c68d771211567a1d52.js","55073322347625":"path---2018-08-08-qiao-qiao-xian-qi-webassembly-de-shen-mi-mian-sha-6539567a233ab8b14654.js","39633707322727":"path---2018-08-09-prolog-1345f48eb903e5981a86.js","63139138583510":"path---2018-08-09-shi-lian-zhi-shi-performance-72baac8ed8476939fcb7.js","111573346876752":"path---2018-08-13-tcp-lian-jie-ji-chang-jian-gong-ji-shou-fa-fen-xi-c9515a6c0859eec5fcc3.js","121508017955326":"path---2018-04-16-fan-yi-2018-nian-12-zhong-yi-dong-duan-yong-hu-ti-yan-she-ji-qu-shi-fe52dff817e99f97e8ca.js","234316958920001":"path---2018-08-22-shen-ru-promise-ac5770ae3e72843370f0.js","213635165403529":"path---2018-08-10-dapp-kai-fa-jian-jie-c21a5e0596ed6cb891b0.js","56353778833358":"path---2018-08-13-ran-bing-luan-bf-ke-pu-bf-jie-shi-qi-de-js-shi-xian-0038c785ac278f4e8cc0.js","96922125034218":"path---2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia-6208cd03c636fb86f0d9.js","25161261646592":"path---2018-09-12-qian-tan-vue-zhong-computed-shi-xian-yuan-li-262805410359168360d5.js","142629428675168":"path---index-068dc5d63750f3aa9cfa.js","114276838955818":"component---src-layouts-index-js-b08fc8ddc320071724cc.js"}/*]]>*/</script><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><title data-react-helmet="true">简述大数据实时处理框架 | 创宇前端 - 最酷开发者的技术分享</title><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:87.5%/1.5 'PT Sans',sans-serif;box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:'PT Sans',sans-serif;font-weight:400;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;margin-bottom:0;}h1{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Oswald',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;}h2{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Oswald',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Oswald',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Oswald',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Oswald',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;color:hsla(0,0%,0%,0.9);font-family:'Oswald',sans-serif;font-weight:700;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}ul{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.5rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:0.85rem;line-height:1.5rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:1rem;line-height:1.5rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0.9375rem;padding-right:0;padding-top:0;margin-bottom:1.5rem;font-size:1.1487rem;line-height:1.5rem;border-left:0.5625rem solid #292d35;color:hsla(0,0%,0%,0.65);font-style:italic;}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(1.5rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.5rem;}b{font-weight:700;}strong{font-weight:700;}dt{font-weight:700;}th{font-weight:700;}li{margin-bottom:calc(1.5rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}li > ul{margin-left:1.5rem;margin-bottom:calc(1.5rem / 2);margin-top:calc(1.5rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(1.5rem / 2);}code{font-size:0.85rem;line-height:1.5rem;}kbd{font-size:0.85rem;line-height:1.5rem;}samp{font-size:0.85rem;line-height:1.5rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1rem;padding-right:1rem;padding-top:0.75rem;padding-bottom:calc(0.75rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}a{color:#292d35;text-decoration:none;text-shadow:.03em 0 #fff,-.03em 0 #fff,0 .03em #fff,0 -.03em #fff,.06em 0 #fff,-.06em 0 #fff,.09em 0 #fff,-.09em 0 #fff,.12em 0 #fff,-.12em 0 #fff,.15em 0 #fff,-.15em 0 #fff;background-image:linear-gradient(to top, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0) 1px, #292d35 1px, #292d35 2px, rgba(0, 0, 0, 0) 2px);background-image:none;text-shadow:none;}a:hover,a:active{text-shadow:none;background-image:none;}h1,h2,h3,h4,h5,h6{margin-top:3rem;}blockquote > :last-child{margin-bottom:0;}blockquote cite{font-size:1rem;line-height:1.5rem;color:hsla(0,0%,0%,0.8);font-style:normal;font-weight:400;}blockquote cite:before{content:"— ";}@media only screen and (max-width:480px){html{font-size:106.25%;line-height:1.45;}blockquote{border-left:0.28125rem solid #292d35;color:hsla(0,0%,0%,0.59);padding-left:0.84375rem;font-style:italic;margin-left:-1.125rem;margin-right:0;}}button{outline:none;}</style><link href="//fonts.googleapis.com/css?family=Oswald:700|PT+Sans:400,400i,700" rel="stylesheet" type="text/css"/><script>/*<![CDATA[*/!function(e,t,r){function n(){for(;d[0]&&"loaded"==d[0][f];)c=d.shift(),c[o]=!i.parentNode.insertBefore(c,i)}for(var s,a,c,d=[],i=e.scripts[0],o="onreadystatechange",f="readyState";s=r.shift();)a=e.createElement(t),"async"in i?(a.async=!1,e.head.appendChild(a)):i[f]?(d.push(a),a[o]=n):e.write("<"+t+' src="'+s+'" defer></'+t+">"),a.src=s}(document,"script",["/commons-8761948dcb0a891572a6.js","/app-96096ed9b4fb2fbacb27.js","/path---2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia-6208cd03c636fb86f0d9.js","/component---src-templates-blog-post-js-c529b58eeee5ee350f19.js","/component---src-layouts-index-js-b08fc8ddc320071724cc.js"])/*]]>*/</script><style id="gatsby-inlined-css">.header{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;position:relative;width:100%;padding:0 2.5%;height:60px}.header-search{display:none;position:relative}.header-search input{height:30px;width:167px;outline:none;border-radius:28px;border-width:inherit;border:1px solid #f1f2f3;padding-left:10px;background-color:#f5f9fc}.header-search img{position:absolute;right:9px;top:5px;width:20px;height:20px}.header a>img{width:200px;height:44px}.header-navigation button{display:inline-block;background-image:url("data:image/svg+xml;charset=utf8,%3Csvg viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath stroke='%233585F3' stroke-width='2' stroke-linecap='round' stroke-miterlimit='10' d='M4 8h24M4 16h24M4 24h24'/%3E%3C/svg%3E");background-repeat:no-repeat;background-position:50%;background-color:transparent;background-size:24px 24px;width:50px;height:40px;padding:8px 12px;font-size:20px;line-height:1;border:1px solid #3585f3;border-radius:4px;margin-right:20px}@media only screen and (min-width:768px){.header{padding:0 8%}.header-navigation{display:none}.header-search{display:-webkit-box;display:-ms-flexbox;display:flex}}.nav-menu{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;position:absolute;top:60px;left:0;width:100%;background-color:#fff;padding:10px;overflow:scroll}.nav-menu,.nav-menu a{display:-webkit-box;display:-ms-flexbox;display:flex}.nav-menu a{padding-left:20px;position:relative;text-align:left;height:60px;border-bottom:1px solid #e7ecf0;font-size:20px;line-height:30px;font-weight:700;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding-left:48px}.footer{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.footer-link{padding:50px 8%;border-bottom:1px solid #f1f2f3}.footer-item,.footer-link{display:-ms-grid;display:grid;grid-row-gap:5px;-ms-grid-columns:1fr;grid-template-columns:1fr;-ms-grid-rows:auto;grid-template-rows:auto}.footer-item>header{font-size:16px;font-weight:700}.footer-item div{white-space:nowrap;color:#a0a0a0}.footer-bottom{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:50px;padding:0 2.5%}.footer-social a>img{width:24px;height:24px;border:1px solid #d4d6de;border-radius:50%;margin-right:10px}@media only screen and (min-width:768px){.footer-link{-ms-grid-columns:(1fr)[3];grid-template-columns:repeat(3,1fr);grid-column-gap:10px}.footer-item:first-of-type,.footer-item:nth-of-type(2){-ms-grid-columns:(1fr)[2];grid-template-columns:repeat(2,1fr);grid-column-gap:10px}.footer-item:first-of-type > header,.footer-item:nth-of-type(2)>header{grid-column:1/3}.footer-bottom{padding:0 8%}}.official-account{margin-bottom:20px;padding:20px}.official-account span{display:inline-block;margin-top:20px;font-size:12px;text-align:center;width:100%}code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px #fff;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-]::selection,code[class*=language-] ::selection,pre[class*=language-]::selection,pre[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#a67f59;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.layout{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.layout,.layout-container{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.layout,.layout-container,.layout-content{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.layout-content{background-color:#f5f9fc}.layout-main{padding:0 5%;width:100%}.layout-official-account{display:inline-block;text-align:center}@media only screen and (min-width:768px){.layout-main{padding:0 8%}.layout-official-account{display:none}}.blog-header{background-color:inherit}.blog-header span{padding:2px 10px}.blog-header span:first-of-type{color:#fff;background-color:#3585f3}.blog-header span:nth-of-type(3){color:#a0a0a0;font-size:12px}.sidebar{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.sidebar-hots{padding:10px}.sidebar-hots header:not(:first-of-type){padding:10px 0;padding-left:10px;position:relative;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:200px}.sidebar-hots header:not(:first-of-type):before{position:absolute;content:"*";left:0;top:13px;color:#4995ed}.sidebar-hots header:first-of-type{border-bottom:1px solid #f1f2f3;font-size:20px;padding:5px 0 15px}.post{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.post-main{margin:40px 0;padding:20px;background-color:#fff;min-width:0}.post-main a{color:#3585f3}.post-header{border-bottom:1px solid #f1f2f3;margin-bottom:50px;padding-left:15px}.post-header h1{margin-top:0}.post-sidebar{display:none}.post-notification{font-weight:700}@media only screen and (min-width:768px){.post-sidebar{display:inline-block;-webkit-box-flex:0;-ms-flex:0 0 240px;flex:0 0 240px;margin-top:40px;margin-left:50px}}.blog{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;overflow:hidden;min-width:0}.blog img{-webkit-box-flex:0;-ms-flex:0 0 150px;flex:0 0 150px}.blog header{font-weight:700;font-size:18px;padding:20px 0 10px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.blog p{padding:10px 0 20px}.blogs{display:-ms-grid;display:grid;-ms-grid-columns:1fr;grid-template-columns:1fr;-ms-grid-rows:auto;grid-template-rows:auto;grid-column-gap:20px;padding-top:40px}@media only screen and (min-width:768px){.blogs{-ms-grid-columns:(1fr)[3];grid-template-columns:repeat(3,1fr)}}.baner{display:none;-ms-grid-columns:(1fr)[3];grid-template-columns:repeat(3,1fr);margin:0 auto}.baner div:first-of-type{grid-column:1/3;-ms-grid-row-span:2;-ms-grid-row:1;grid-row:1/span 2;position:relative}.baner div:nth-of-type(3){grid-column:3/4}.baner-item{position:relative;height:100%}.baner-left,.baner-right{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:#fff;position:absolute;top:calc(50% - 30px);width:46px;height:61px;background-color:rgba(0,0,0,.5);border:0;cursor:pointer}.baner-left{left:0}.baner-right{right:0}.baner-item a>img{width:100%;height:100%}.baner-item header{position:absolute;bottom:0;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:end;-ms-flex-align:end;align-items:flex-end;width:100%;height:50px;background:linear-gradient(transparent,#000);font-size:20px}.baner-item header>span{color:#fff;text-shadow:none;padding-left:5px;padding-bottom:5px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@media only screen and (min-width:768px){.baner{display:-ms-grid;display:grid}}.index{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%}.index-filters{display:-ms-grid;display:grid;-ms-grid-columns:(1fr)[7];grid-template-columns:repeat(7,1fr);padding:20px;margin:0 20px;width:100%;background-color:#fff;overflow-x:scroll}.index-filters button{border:0;cursor:pointer;background-color:transparent;min-width:80px}.index-filter-selected{color:#5494f2}.index-baner{width:100%;padding-top:40px}.index-baner,.index-main{display:-webkit-box;display:-ms-flexbox;display:flex}.index-main{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row}.index-more{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:40px 0;background-color:#f5f9fc;width:100%}.index-more button{background-color:transparent;border:1px solid #2886f2;border-radius:30px;color:#2886f2;padding:0 20px;cursor:pointer;width:318px;height:30px}.index-sidebar{display:none}@media only screen and (min-width:768px){.index-sidebar{display:inline-block;-webkit-box-flex:0;-ms-flex:0 0 240px;flex:0 0 240px;margin-top:20px;margin-left:50px}.index-filters{overflow-x:hidden}}</style></head><body><div id="___gatsby"><div class="layout" data-reactroot="" data-reactid="1" data-react-checksum="1200463087"><div class="header" data-reactid="2"><a href="/" data-reactid="3"><img src="/static/logo.3518afe5.png" alt="logo" data-reactid="4"/></a><div class="header-search" data-reactid="5"><input type="text" placeholder="搜索" data-reactid="6"/><!-- react-text: 7 --> <!-- /react-text --><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ1MSA0NTEiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQ1MSA0NTE7IiB4bWw6c3BhY2U9InByZXNlcnZlIiB3aWR0aD0iNTEycHgiIGhlaWdodD0iNTEycHgiIGNsYXNzPSIiPjxnPjxnPgoJPHBhdGggZD0iTTQ0Ny4wNSw0MjhsLTEwOS42LTEwOS42YzI5LjQtMzMuOCw0Ny4yLTc3LjksNDcuMi0xMjYuMUMzODQuNjUsODYuMiwyOTguMzUsMCwxOTIuMzUsMEM4Ni4yNSwwLDAuMDUsODYuMywwLjA1LDE5Mi4zICAgczg2LjMsMTkyLjMsMTkyLjMsMTkyLjNjNDguMiwwLDkyLjMtMTcuOCwxMjYuMS00Ny4yTDQyOC4wNSw0NDdjMi42LDIuNiw2LjEsNCw5LjUsNHM2LjktMS4zLDkuNS00ICAgQzQ1Mi4yNSw0NDEuOCw0NTIuMjUsNDMzLjIsNDQ3LjA1LDQyOHogTTI2Ljk1LDE5Mi4zYzAtOTEuMiw3NC4yLTE2NS4zLDE2NS4zLTE2NS4zYzkxLjIsMCwxNjUuMyw3NC4yLDE2NS4zLDE2NS4zICAgcy03NC4xLDE2NS40LTE2NS4zLDE2NS40QzEwMS4xNSwzNTcuNywyNi45NSwyODMuNSwyNi45NSwxOTIuM3oiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiMjOEQ4RjlmaWxsOiMjOEQ4RjlmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiM4RDhGOTFmaWxsOiM4RDhGOTFmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDBmaWxsOiMwMDAwMDAiIGZpbGw9IiM4RDhGOTEiLz4KPC9nPjwvZz4gPC9zdmc+Cg==" data-reactid="8"/></div><div class="header-navigation" data-reactid="9"><button data-reactid="10"></button></div><!-- react-empty: 11 --></div><div class="layout-container" data-reactid="12"><div class="layout-content" data-reactid="13"><div class="layout-main" data-reactid="14"><div class="post" data-reactid="15"><!-- react-empty: 16 --><div class="post-main" data-reactid="17"><div class="post-header" data-reactid="18"><h1 data-reactid="19">简述大数据实时处理框架</h1><div class="blog-header" data-reactid="20"><span data-reactid="21">培训教程</span><span data-reactid="22">皮蛋二哥</span><span data-reactid="23">2018-08-31</span></div></div><div data-reactid="24"><p>
  <a
    class="gatsby-resp-image-link"
    href="/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1200px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABUBAQEAAAAAAAAAAAAAAAAAAAME/9oADAMBAAIQAxAAAAFKlEcSaYZDo//EABsQAAIBBQAAAAAAAAAAAAAAAAECAwAEETEy/9oACAEBAAEFArSMMXhUhhhoafg7/8QAFxEAAwEAAAAAAAAAAAAAAAAAAQIQIv/aAAgBAwEBPwFzqf/EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPwERf//EABkQAAIDAQAAAAAAAAAAAAAAAAERAAIhIP/aAAgBAQAGPwJnVFUbz//EABkQAQEBAQEBAAAAAAAAAAAAAAEAMRFBUf/aAAgBAQABPyHigGj7NQkJAyT3ZPq0v//aAAwDAQACAAMAAAAQy/8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCECw//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QW0M//8QAHRABAAMAAgMBAAAAAAAAAAAAAQARITFBUWGRwf/aAAgBAQABPxBI0hXo3x8m300reG/oHucApyAYIL8zQte7caoqt9z/2Q=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="bigdata"
        title=""
        src="/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg"
        srcset="/static/header-e44c25c207e851b1aaf1667f2c83d95f-527f0.jpeg 300w,
/static/header-e44c25c207e851b1aaf1667f2c83d95f-9a7cd.jpeg 600w,
/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg 1200w"
        sizes="(max-width: 1200px) 100vw, 1200px"
      />
    </span>
  </span>
  
  </a>
      </p>
<h1>欢迎来到BigData的世界</h1>
<p>现如今，我们来到了数据时代，数据信息化与我们的生活与工作息息相关。此篇文章简述利用大数据框架，实时处理数据的流程与相关框架的介绍，主要包括：</p>
<blockquote>
<ul>
<li>数据实时处理的概念和意义</li>
<li>数据实时处理能做什么</li>
<li>数据实时处理架构简介</li>
<li>数据实时处理代码演示</li>
</ul>
</blockquote>
<h2>数据实时处理的概念和意义</h2>
<p>什么是数据实时处理呢？我个人对数据实时处理的理解为：数据从生成->实时采集->实时缓存存储->（准）实时计算->实时落地->实时展示->实时分析。这一个流程线下来，处理数据的速度在秒级甚至毫秒级。</p>
<p>数据实时处理有什么意义呢？我们得到数据可以进行数据分析，利用数据统计方法，从错综复杂的数据关系中梳理出事物的联系，比如发展趋势、影响因素、因果关系等。甚至建立一些BI，对一些数据的有用信息进行可视化呈现，并形成数据故事。</p>
<h2>数据实时处理能做什么</h2>
<h3>数据的实时计算</h3>
<p>何为数据的实时计算？我们从数据源端拿到数据，可能不尽如人意，我们想对得到的数据进行 ETL 操作、或者进行关联等等，那么我们就会用到数据的实时计算。目前主流的实时计算框架有 spark，storm，flink 等。</p>
<h3>数据的实时落地</h3>
<p>数据的实时落地，意思是将我们的源数据或者计算好的数据进行实时的存储。在大数据领域，推荐使用 HDFS，ES 等进行存储。</p>
<h3>数据的实时展示与分析</h3>
<p>我们拿到了数据，要会用数据的价值。数据的价值体现在数据中相互关联关系，或与历史关联，或能预测未来。我们实时得到数据，不仅能够利用前端框架进行实时展示，还可以对其中的一些数据进行算法训练，预测未来走势等。</p>
<p>example：</p>
<p>淘宝双 11 大屏，每年的双 11 是淘宝粉丝疯狂的日子。马云会在双 11 的当天在阿里总部竖起一面大的电子屏幕，展示淘宝这一天的成绩。例如成交额，访问人数，订单量，下单量，成交量等等。这个电子大屏的背后，就是用到的我们所说的数据的实时处理。首先，阿里的服务器遍布全国各地，这些服务器收集PC端、手机端等日志，上报到服务器，在服务上部署数据采集工具。接下来，由于数据量庞大，需要做数据的缓存缓冲处理。下一步，对原始日志进行实时的计算，比如筛选出上面所述的各个指标。最后，通过接口或者其他形式，进行前端屏幕的实时展示。</p>
<h2>数据实时处理架构简介</h2>
<p>接下来是我们介绍的重点，先放一张数据流程图：

  <a
    class="gatsby-resp-image-link"
    href="/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 864px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 23.148148148148145%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABSUlEQVQY0z2Qy0sCURjF558zaNGiaN++bdgiWkTholXbVu2EolIzLEkiEB/ZUKSYkKTOmOYj8zX3zp2np29u0OLA/S7n8J3vp/D5GBabwpjPwJkBuALwLPiOgGlyLFwLWDhStiXg2OJ/9sjDeeARMufZHMpl7gOJQhOt7gidwQTXJQ3JRw3FWg+MzLnqF/21kVLbGI4NaP0pzbr0PNcHYIzj/rWDZLGFW/IoyztxrO6nES9ouFE/sXaQRih8it1oGZXmCOETFUvbZ1iP3OGh0sNFXsdaJIOVvRQOYzWUG9/YPC4htBXFxlEWynm2jqBlq/uDdn+CK9oUyzeQfwsamshWe7SsKVsNJ4wazpCkxomiDvV9AIMaZl46MpN60qFYbEbnMwhOImYBP/i2ZGcJYuMTL3hSnuvAd4PZJYYuvW0IYf5x9ihDTH8B0bNiMm5vI34AAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="流程图"
        title=""
        src="/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png"
        srcset="/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-2f6e1.png 300w,
/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-d5612.png 600w,
/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png 864w"
        sizes="(max-width: 864px) 100vw, 864px"
      />
    </span>
  </span>
  
  </a>
     </p>
<ul>
<li>数据采集端，选用目前采集数据的主流控件 flume。</li>
<li>数据缓冲缓存，选用分布式消息队列 kafka。</li>
<li>数据实时计算，选用 spark 计算引擎。</li>
<li>数据存储位置，选用分布式数据存储 ES。</li>
<li>其他，指从 ES 中拿到数据后进行可视化展示，数据分析等。</li>
</ul>
<p>下面将分别简单的介绍下各个组件：
</p>
<h3>flume</h3>
<p>flume 是一个分布式的数据收集系统,具有高可靠、高可用、事务管理、失败重启、聚合和传输等功能。数据处理速度快,完全可以用于生产环境。</p>
<p>flume 的核心概念有：event，agent，source，channel，sink</p>
<h4>event</h4>
<p>flume 的数据流由事件 (event) 贯穿始终。event 是 flume 的基本数据单位，它携带日志数据并且携带数据的头信息，这些 event 由 agent 外部的 source 生成，当 source 捕获事件后会进行特定的格式化，然后 source 会把事件推入 channel 中。可以把 channel 看作是一个缓冲区，它将保存事件直到 sink 处理完该事件。sink 负责持久化日志或者把事件推向另一个 source。</p>
<h4>agent</h4>
<p>flume 的核心是 agent。agent 是一个 java 进程,运行在日志收集端,通过 agent 接收日志,然后暂存起来,再发送到目的地。
每台机器运行一个 agent。
agent 里面可以包含多个 source，channel，sink。</p>
<h4>source</h4>
<p>source 是数据的收集端，负责将数据捕获后进行特殊的格式化，将数据封装到 event 里，然后将事件推入 channel 中。flume 提供了很多内置的 source，支持 avro,log4j,syslog 等等。如果内置的 source 无法满足环境的需求，flume 还支持自定义 source。</p>
<h4>channel</h4>
<p>channel 是连接 source 和 sink 的组件，大家可以将它看做一个数据的缓冲区（数据队列），它可以将事件暂存到内存中也可以持久化到本地磁盘上， 直到 sink 处理完该事件。两个较为常用的 channel，MemoryChannel 和 FileChannel。</p>
<h4>sink</h4>
<p>sink 从 channel 中取出事件，然后将数据发到别处，可以向文件系统、数据库、hadoop、kafka，也可以是其他 agent 的 source。</p>
<h3>flume 的可靠性与可恢复性</h3>
<ul>
<li>flume 的可靠性：当节点出现故障时，日志能够被传送到其他节点上而不会丢失。Flume 提供了可靠性保障，收到数据首先写到磁盘上，当数据传送成功后，再删除；如果数据发送失败，可以重新发送。</li>
<li>flume 的可恢复性：可恢复性是靠 channel。</li>
</ul>
<p>口述抽象，上两张官网贴图:</p>
<p>单个 agent 收集数据流程图</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 667px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 37.031484257871064%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABaElEQVQoz22R227TUBBF/f//wRPPBUoRNEIlhYoottPYjdI4QUmT1rfYPk7w7SzmJGAJxEhbI81lz54ZS+c5umnQVQXik+dnwQ6VxORRSLTd/gWTN3EVx7ys1+zD8NR34tjvsbrjkY6zaUGWZ4SZYhJsWO4i/rVDVbPYxcw2IUmuKEvV9+qyxKKuT4GuOfvt9ol3gyEXX8ZcDkeslkt019LIBrqtidKMVxcfeXvr8N2dksomPaFSWIvHFVdfx3waTbHnP3Aduy9q6or3N3cMvRW33pKBPWM8nbEKFmjdUaoC3/fYp+lv+aLQcX3eDMd8uJvgBWsic5M/pjX+JuLaXTBw5lyNHnh8eunTbdsKR4ntOFzbD/jeXFY2z+hFQ5Ik5PKoUgpPEBWm6SjTVZFTS30QBNzfT4jlMSYfZwWvb1w+f5tg6cPhvL+oMb6qflIUBUru8V8IeZomRPJpM7gTleaul04gN53zC0DTDnrgBajeAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="agent"
        title=""
        src="/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png"
        srcset="/static/agentone-cf2bad6bc004494608f4bd7a9361c771-9f8ae.png 300w,
/static/agentone-cf2bad6bc004494608f4bd7a9361c771-55498.png 600w,
/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png 667w"
        sizes="(max-width: 667px) 100vw, 667px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>多个 agent 协作处理数据流程图</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 758px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 48.54881266490765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8ElEQVQoz3WSfY+aQBDG/f4fqGlyueo1vcqd1qqgIuCBIriwvIsoIDwd1nr3R6+bTDbZyTzz/Ga2h/fT3qJtUNc1rtfr3ze8323bUq6kqNA0NYpTjt1uC0WRYZkmwA7o2Y6D4zGDyzwYWxeux1GVFyRpisXGhrx+o/xRCN6a/P80rovey2gEZ7+HuXPwc6bjRTYQZzksx8OPyQpr08We8p278pwhcBfYmxPwg4q6LD74mgbtgRzeH7jvIwoDrAwLU9XEWNHBPJ+KzsjzHHEcwzA0rJRnMEeDzyzwIIAXxIjiBA25F4LF5SJm1hUFYYQ0zVDkR5xpPnGSwmEcGSG7hPOlL6H/SwMLM2Fistzg6/MM680WV5pryxh6/acnGqoisIZzHY+vC/A4E/OSZms8SAo0KmDUXVVV6OZOvA+nK4xlcupzBOS0KitaCgnWxN6dKIoo6UE1TLzKOhWpmC4NsaCcHIaU7yiqqkJR0BhOJ4GZJrHYtphjh5xkGS6EzTnHxtzCdpnoGoYhLNvFUjehajrKsvxnq44XQZprGC/fYB8CtN2Wvw0GUGQZB1KXCPlhKCNMjgJ5REjff2swCPP+D+/R/U3HjzHTbEwpHD+5Cd67BeQo4D50a4/BaIlHaU6COmHVAvkmchNFJ/rJP+yQ/wCbPu916QUDzAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="agents"
        title=""
        src="/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png"
        srcset="/static/agentmany-3baa47c83896afad517a6f80541b6665-180cf.png 300w,
/static/agentmany-3baa47c83896afad517a6f80541b6665-b0bd1.png 600w,
/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png 758w"
        sizes="(max-width: 758px) 100vw, 758px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>kafka</h3>
<p>Kafka 是一个高吞吐量的分布式发布-订阅消息系统。企业中一般使用 kafka 做消息中间件，做缓冲缓存处理。需要 zookeeper 分布式协调组件管理。</p>
<p>kafka 的设计目标：</p>
<ol>
<li>提供优秀的消息持久化能力，对 TB 级以上数据也能保证常数时间的访问性能。</li>
<li>高吞吐率。即使在非常廉价的机器上也能做到每台机每秒 100000 条消息的传输。</li>
<li>支持 kafka server 间的消息分区，及分布式消费，同时保证每个 partition 内的消息顺序传输。</li>
<li>同时支持离线数据处理和实时数据处理。</li>
</ol>
<p>kafka 核心概念</p>
<ul>
<li>broker：消息中间件处理结点，一个 kafka 节点就是一个 broker，多个 broker 可以组成一个 kafka 集群。</li>
<li>topic：主题，kafka 集群能够同时负责多个 topic 的分发。</li>
<li>partition：topic 物理上的分组，一个 topic 可以分为多个 partition，每个 partition 是一个有序的队列。</li>
<li>offset：每个 partition 都由一系列有序的、不可变的消息组成，这些消息被连续的追加到 partition 中。partition 中的每个消息都有一个连续的序列号叫做 offset，用于 partition 唯一标识一条消息。</li>
<li>producer：负责发布消息到 kafka broker。</li>
<li>consumer：消息消费者，向 kafka broker读取消息的客户端。</li>
<li>consumer group：每个 consumer 属于一个特定的 consumer group。</li>
</ul>
<p>贴两张官网图</p>
<p>prodecer-broker-consumer

  <a
    class="gatsby-resp-image-link"
    href="/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 696px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 42.38505747126437%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABNElEQVQoz31Ri46EIAz0/z/wctnXuav4QAWfgCLMVe7cmL1Hk6ZkaKEzE+GX8N4/634+4q93xxoJZZENC4rxK61zmKYJeZah73sopcB5iaqqoLVGXdcoizLgA93neY5xHOFobovIWIdWW0jK3qxYnYehwY/4gYLXGCeFJGVgWREGipLjnqQB53WDW3yHpsf3LSP8E/2k0Y0KclCI8wqXpMCVcYh+CviW/kWqiE8L3hvaqDVY/9BuC2M0rg8W5PDf9I69zw03ivPqQvpfzNHzgsWu4I3A2/mGrCQt5xlmtiSP+9EfucPr+3kTeCC6lezQDSMy3uAUM3DRhpoQ/Q2vRAfR9qH/uWFHRsRE99HNuEkDQeYoosUYg5CSnFW4k/Cb66tdwNIU18slONw09NHpDEl9u8ufL+tsaKUwIWsAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="kafka"
        title=""
        src="/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png"
        srcset="/static/kafka-b6e21b060850a0f9660f962f41857c8e-4ef7b.png 300w,
/static/kafka-b6e21b060850a0f9660f962f41857c8e-fb508.png 600w,
/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png 696w"
        sizes="(max-width: 696px) 100vw, 696px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>分区图

  <a
    class="gatsby-resp-image-link"
    href="/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 616px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 53.08441558441559%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACOUlEQVQoz22S3U/TYBjF+Vu90Fu90MRwyY1RiMYPMOLQsWHADMZUcM4FFlgGDmuUCeNrfKxj2VdHy9q13db+fFfEDcOTND19c57n7TnnGXBdl8vHccByztBaxyiNQ1T7GNOp0y3XdXAFQdDo7/EOuDjr1oCA9Ffd/cmOOYlUnGC/HUB117B1o491ld8/rPseMAW2BCifm0Q2FHLnabItP0edEFlpig+RGcKzn5AjTyAzx3apRXC1QNGw2BIXbZTrqE2rNzClNYiXFDblCpljg72zJN+152RUP5nFZ3x89YhYcJz8xG3s5VFhA5RrDbY0nYWaSrRQwbBavYGJssJ6VaXaaHJQtMgqCdL1ESRtlN/1x1QqIfT8Lq5RFS1tWsJn3ep4wo2OI757ct0LDy9KadjMpKr8KsWJF4ZIF5+SjgZ4M+5n+m0Q/+sAa+EpdnIyvsQpp7rJQbuDVD27KvlfWn/NzqlfieXvsyI/RFp+wHp4mP34e7Y/BzhKhHAs3Us2KyRHTitE8yUMu09yF1piHcxWm+5F29VFFnJ3+HI0SOzkLntCclM9F6yO12S23T7J7hXJ3tokFZXlco1vh2V8S2WSuVmmM7eI7gwiLfiYHH2Jb2ycvRc3YWmE1VyTd0kZ2RR+mzaSyKDd6fT+cEXRSIlQtGbTU/1DDhOUbjCfuUcqNkRqbpjdpXlqsTGszUURCzhiwJrwLiSXWC1WPQvcy4H/L2nT1lB0mbpeoGacYDvqtSvdxc41y/0Hu5knk/Fry1QAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="kafkas"
        title=""
        src="/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png"
        srcset="/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-e3f69.png 300w,
/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-990cf.png 600w,
/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png 616w"
        sizes="(max-width: 616px) 100vw, 616px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h3>spark</h3>
<p>spark 是一个分布式的计算框架，是我目前认为最火的计算框架。</p>
<p>spark，是一种”one stack to rulethem all”的大数据计算框架,期望使用一个技术栈就完美地解决大数据领域的各种计算任务。apache 官方,对 spark 的定义是:通用的大数据快速处理引擎（一“栈”式）。</p>
<h4>spark组成</h4>
<ol>
<li>spark core 用于离线计算</li>
<li>spark sql 用于交互式查询</li>
<li>spark streaming，structed streaming 用于实时流式计算</li>
<li>spark MLlib 用于机器学习</li>
<li>spark GraphX 用于图计算</li>
</ol>
<h4>spark 特点</h4>
<ol>
<li>速度快：spar k基于内存进行计算(当然也有部分计算基于磁盘,比如 shuffle)。</li>
<li>容易上手开发：spark 的基于 rdd 的计算模型，比 hadoop 的基于 map-reduce 的计算模型要更加易于理解,更加易于上手开发,实现各种复杂功能。</li>
<li>通用性：spark 提供的技术组件,可以一站式地完成大数据领域的离线批处理、交互式查询、流式计算、机器学习、图计算等常见的任务。</li>
<li>与其他技术的完美集成：例如 hadoop，hdfs、hive、hbase 负责存储，yarn 负责资源调度，spark 负责大数据计算。</li>
<li>极高的活跃度：spark 目前是 apache 的顶级项目,全世界有大量的优秀工程师是 spark 的 committer，并且世界上很多顶级的 IT 公司都在大规模地使用 spark。</li>
</ol>
<p>贴个spark架构图

  <a
    class="gatsby-resp-image-link"
    href="/static/spark-216a1e252f7e5ab82723b92ce15241ed-c56ad.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 1200px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 55.91572123176661%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+klEQVQoz22QW0yTZxzGXxOjiVqlkwp4YENgixt4StAZUZkRtTIYTjfRKRPxwmiilqo3kug2ETcqZvGAGk1cYnaAi8XExMRkiXfOmVLEWsrX8iGiAQr9vvaz5yK/vfFWL578n//hed4nr4jH4viVCN2uKH2+GMlEEsVr8PiRjk8JoQUNujp1XE6D4aEI8VgMr8fgaZeB0msQGhtl1P0YfcBPQmrFq8EoWZY0ubkT5C5Ic/9eiE8KE5hMsLIkQdtFDbN5gpmmNzQciUuzODlZKT5bNE7+IvD8+RfOxYKn+0qJyMeEX9EwzUgzfz5kzk7x4B+NjwuSzJkjDVckuHFVJzt7AovlDccaYqj+1+TnpVhbOk7xcnD/3s4zqwV33WqisShiNBBmf22QKqtGbU2Qm9eC1O/RZB/iQL3Orw6drytDVFeE+KFR5/YtjV3bg1Rbx7DZk7y424H7qzy8hyvefodQ/SEmTwUh3oXZAh9kwUzz+/ez5kJPewedxYLumqUkU2mZcMSgflsfO8p9fGf1s9uqsLO8h52bfNRW+qmrUtj7bYDva8Jy52NPhZ9dsn5T5uHQ7n4G7t3BU7eC/tYG0uPjiMjQAL2VZrzrJ+PdMAXlywyU7Tn0bJ6GZ9M0uj8XvHLsxXjwG+5Vgh7rdDwbp8qbufRWZNC5ZjrOdbPo3lpIKvpaGg4P4tryEc4vMnGut+CqzEfZWoSyOhNvaSae4kkMNu4n+PdtnhUJObPgXZWBr7qIrqpCXBssdJZl8EQaxkIaIildB640orYcxnf+CCMtdg6eLWHh2SyWnsulqCmHzbfK2fJHFYub5rGkeQEFzdnUNi3hheMoaqsNX/NB1LZThHVdJnyp8uhTwb95gocFAudCwY0SwakyQdNawU+lgks7zFzeZuKM5Gfk7PQ6QdtKwX/5Uic1Dz+UfJkgHBhGGGMB+i+fRD1vQ71wjL4LdoZkyuDPdsZ+sTMq68g5GwHJNcdxiRPoEsMt8rbV/lajOmw8v/4jESPM/5bWRydMtgHdAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="spark"
        title=""
        src="/static/spark-216a1e252f7e5ab82723b92ce15241ed-abe1c.png"
        srcset="/static/spark-216a1e252f7e5ab82723b92ce15241ed-10046.png 300w,
/static/spark-216a1e252f7e5ab82723b92ce15241ed-3c4a3.png 600w,
/static/spark-216a1e252f7e5ab82723b92ce15241ed-abe1c.png 1200w,
/static/spark-216a1e252f7e5ab82723b92ce15241ed-c56ad.png 1234w"
        sizes="(max-width: 1200px) 100vw, 1200px"
      />
    </span>
  </span>
  
  </a>
    </p>
<h2>数据实时处理代码演示</h2>
<h3>搭建好各个集群环境</h3>
<p>需要搭建 flume 集群，kafka 集群，es 集群，zookeeper 集群，由于本例 spark 是在本地模式运行，所以无需搭建 spark 集群。</p>
<h3>配置好组件之间整合的配置文件</h3>
<p>搭建好集群后，根据集群组件直接的整合关系，配置好配置文件。其中主要的配置为 flume 的配置，如下图：</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 657px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 100.4566210045662%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAC0klEQVQ4y41U2XLaQBDUg2MnvuMz8QX4AmlXBwKBAAFCnMY4duX6/z/p9CgJkQvs+GFqV6vVqKe7Zwx16kPn61CfPWiJQxv2eZVRgX0m4cPmHfuk/O95z4Rey8P+cLkQRnjVQHARoMbweblSCGHvW7A/mvyQ6yc33et3F9CrOa65eTL9vrCY8FttinGpjXu7j16hjohInPUr6MwlvQTJsmRpQklQI6LmsYPwQMPfuoXDF4poJPRa4VmClxLNE7rkxSVHLnlzT8vwcgHK/InHMz9XS8t+rcTFksMHjK0u7t0hBrctDM0upnaCLsv/4o8R52tvTpYm7FPh6NhFm6iaVDii0lJ+nXs5KwsFwukrCbPvjBI/sLaLMLe5yn7rBhZfmCvnsKiouXKBEvfy0UuRTWrMGg9IdA8jf4QeSx95Q3QvQySXjVT1O57NnD5aRB6R1w792T6rIia/Eh4BPEP4sz7DpNjGIzmc3EZ4Ko8wI4ffaac7K8YTefwRztAgLZIwpmjOxhXs9RdKfnAHRBPSix0kRDQx4xTdVPUwoT/Fo02iC4/slEtL7ETVTTF6ptx5yV+DKQY3LUx1ghFVFoOPS90U2ZDPI6KWM/lpRIvVDzUquyYbgFbbWBTLqLGtxMwVilLeuE5XeQ52S/C35byY7quMYOf3Wt4pkgJnqfqGxYSKl5SsBwqKRrYk9hU0z9L3HAaKyRStpPgT6SBxwLLuMSYUIWZpY2eAPhVtkce+itEhDQl57XJ1pFuoZjosiM7OJFhA+EhRBuRnyg4ZXzcRswXvqLpEjxPonkqLwatSpoy2jABLO0WTNyVcCMF/9mJsvXkNh6hcJvJIiStBbv/XhkbCkiOW2qG5W1RUokfUERFWidY78aBoGRmyevNmYfosJBRTd3g5YU+3+XH3POC+huaRg0CGrJQo02Y1P+fuVYQWL6Y9S6OKac3MXgys3zhY/8Yv53E//87mDeoAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="flume"
        title=""
        src="/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png"
        srcset="/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-b4100.png 300w,
/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-b5002.png 600w,
/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png 657w"
        sizes="(max-width: 657px) 100vw, 657px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>可以看到，我们的 agent 的 source 为 r1，channel 为 c1，sink 为 k1，source 为我本地 nc 服务，收集日志时，只需要打开 9999 端口就可以把日志收集。channel 选择为 memory 内存模式。sink 为 kafka 的 topic8 主题。</p>
<h3>开启各个集群进程</h3>
<ol>
<li>开启 zookeeper 服务。其中 QuorumPeerMain 为 zookeeper 进程。</li>
<li>开启 kafka 服务。</li>
<li>开启 es 服务。</li>
<li>开启 flume 服务。其中 Application 为 flume 进程。

  <a
    class="gatsby-resp-image-link"
    href="/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 218px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 66.97247706422019%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACgUlEQVQ4y31TZ2/aQBhGrbrSFaUjiQIZZQ8bsM0ImOEBdrwwYKiBklRqK1X9/9+fvndJEWqlfjid77Xv4VkkQsnGVouwNWIYlwqC+hhBbQRXMOBXTYSyBTvfhV+3sWi5mFQNGBkVy2sf9dcZlJ9dQXjxabcSVmGACYGEigPjqoF+SoGR7mDacDBv2BheNGFmrmEVhwgIzMqr6CUVjLJdAsz+CzjKqpjKNjzRpAs6mu/KmDU9zBUbX0cxZ9I4KiKTOEX+URL5x0kUn5yj8DiFyvN7sD/7PWCuD0/QiJGLuOOheVSCnu5y1p0TEa33FWKS4x+LB2kIBw9sHvZ9sHvJJZ2YmVgNIvwKtlAO89yjb84XDM9lzmr/wv8WA0987kxIVoBQsjhYULcQNR241THUEwGlpxfk0yVf7MLfz/s7ZxiSfxMC8ylZ9VSESWaH0hiOYPKQaq8yaJCv9Td5VF+mac9BPizQPAvpbQEizWpkCXvHGa56M9yaK2wGM84oanlYk/x1f0opu7jVZrgzY2y0BTb9EKtuwENb9+fc+3VviphmNUqcAw4vW7BLQ+rcCDN5jPZHgc4a7OKAqtGBftXCDZ0XbZ/XZkwzt2IQGD3nulQhmddnJ5ldnJNnEyr4nRFRqmVE7QDrYYRJzYRbHnAw1gL2B2DF9sQRKZoTM59+sM0rxFLnDJcUyoYkrnohOscVqGcynLLOi+4LQx4W87mfkpFOHFMPU5T8GU+fAbHQ9utDPewRgEYydAySEpfAzh6l7ItsrvGzeibxcBQKhIXBQtivy66HgXSDBdXmVo/w3Yq55AVJ/jn9gbjtENMbhCR9qy8pgJCHd2cs0fpQ2bHbX78BmaydzBlsjVsAAAAASUVORK5CYII='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="thread"
        title=""
        src="/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png"
        srcset="/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png 218w"
        sizes="(max-width: 218px) 100vw, 218px"
      />
    </span>
  </span>
  
  </a>
    </li>
</ol>
<h3>创建好 es 对应 table</h3>
<p>创建好 es 对应的表，表有三个字段，对应代码里面的 case class（代码随后贴上）。</p>
<p>
  <a
    class="gatsby-resp-image-link"
    href="/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 458px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 105.02183406113537%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACj0lEQVQ4y51VaXOiQBD1//+1rf24ldvEGBNFhGEOYBjg7esmmJhYZmunqu05H92vDxex9kjVAcnk6CjJHNBz3ZcZhq5DPwzo+/4og0jqMHzZ7/uBZwmLpq5RHXIYSr7bInt7xSHbIe7XSARsmpbSwHsP5wPa4DD6AjH1qPlWxDkHF2p03mAhi8paFKWBMRVM9SFlWaoURaHaGAPLu+ek4n3RC7m03W5xdXWF9Xqt8yzLsFqtsFwusXxY4vr6Grc3N3h6fNSzS7IQV9QdWio6hKDaO3GRe4F7dYOK7lZ0L7y7+P2dvHET4AwiuiNvbdvqoWsCQororMHu8Y7WPyFyr26jnssb4VDuR75zfL+QjflLwsME9rGWM5u9wb4+o6JER66KnPeiGiC8idVDbDH4ilFmBBVEHvIwMfSRaVE3ta7FZS9u0m0bGo18MAXaGPWdfDgEAWwwBDtZKG5KcCIvRUue9hatb3BujOM4z072h3HaUcA5z2R0TcTm1z1eft/DvOTI/qxRPu9RHLwm7ynoND+uqY+AIpr9IzOeSdsFEk0rWysJ2yC2Uh3jCcg5+bCQXA20oHjZo3zYweTlDy6fH4u5fIRDGX3Xw2cV8qctqnWubod3OoSlCVD0BcC5fCZyp5vitt2WyO42cAemCr/XNpfBTgAl/ApEHlXIpS9ZoytauS1gK64tPvF4AVC7xSdAcUt0bQMcrfQFk9yMKHNSkn4AlIB8tXAGdHuDcpMrMLsWW9zI1BmPXJ6NsmS7lg/LaI5iYqV02lzZOGNCYsqwssBe/HOUxULpddY67c41G6qUVa88Ttn/bpP+StAuiTbYzWaD17cdDpbuNyQ/Aq4d/0vUwpSS/i98St9vtfqv4y+Z8mIoVFf3AAAAAABJRU5ErkJggg=='); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="estable"
        title=""
        src="/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png"
        srcset="/static/estable-53bc31251cd527b65d1333e8e979e55c-aed98.png 300w,
/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png 458w"
        sizes="(max-width: 458px) 100vw, 458px"
      />
    </span>
  </span>
  
  </a>
    

  <a
    class="gatsby-resp-image-link"
    href="/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 292px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 34.24657534246575%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABeklEQVQoz22Q+0/acBTFG+drmP2yLLoxEaXFYmmxvAq0pR1YaFFBcY1s84Eatmz+/79/9i3LfCT8cJJzz7335J4rWbqCpSnYpopbV2nsGjhKHStj0FZq1NJFjgwXX7WIKl/omz69koMrese1LudOhCtXMDdVylsFpLsfIddxn1HH4vKigZupMPEmXLXHTDsxPcXjcTiln29zXg6JCj5h3qH+Xmcg+Nlhn9YHHW05i762hzQL73gIrhmbA+LqkEC2iZ0xs/Abl81TvjZHoh/TydnCMCAvpTlY3qG4tkvhzTbq0mc0wY23uTkkT1yUNPR1IaZyYjAr6sx8SV/fo7QhU0rJT3rC/y8bKfmpTmbnhr9G9/we3XLlX/Dz5IajXJOHwQ2z6DvTYMKfs3tuuzFOusqx5lFczT4bLoA0NHsESksYtejtu9gfTaID8Xih2Z9MvEwVf6dOY/MQX/Dii3gLDbvCqPxuX/xiex5JW8m+4kn0BNrqP/4y3iL8Be6V132UaWxeAAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="nc"
        title=""
        src="/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png"
        srcset="/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png 292w"
        sizes="(max-width: 292px) 100vw, 292px"
      />
    </span>
  </span>
  
  </a>
    

  <a
    class="gatsby-resp-image-link"
    href="/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
  
  <span
    class="gatsby-resp-image-wrapper"
    style="position: relative; display: block; ; max-width: 683px; margin-left: auto; margin-right: auto;"
  >
    <span
      class="gatsby-resp-image-background-image"
      style="padding-bottom: 22.401171303074673%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxklEQVQY011O2QqDMBD0/z9NUPBCHxRjrabVtJ7RCuo0u21fOjDsHMsmVqOeEJcS16r+sK5Ryxvk7W58hUY9MC8rnl2PYZowTjNmvbCetMY4azMXzrTZs6qmh+M4yLIMvu8jTVPEcYw8z5EZLYTgzrZthEEAz/NQFAKu63JHu1JKrOsKgtV0Lw6HYeQfafNqFEUIwxBJkiAwR8qyxL7v6PsO/tdT37YtlFLYtg3neTKtTpM4+DoFhOM4+ABN4i//deRp/oPyN92DLNppyr01AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
    >
      <img
        class="gatsby-resp-image-image"
        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"
        alt="es"
        title=""
        src="/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png"
        srcset="/static/es-47cfa9b2e6912928883bbb43fcda81d3-59da6.png 300w,
/static/es-47cfa9b2e6912928883bbb43fcda81d3-2c5c0.png 600w,
/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png 683w"
        sizes="(max-width: 683px) 100vw, 683px"
      />
    </span>
  </span>
  
  </a>
    </p>
<p>代码如下:</p>
<div class="gatsby-highlight">
      <pre class="language-scala"><code><span class="token keyword">package</span> run

<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>kafka<span class="token punctuation">.</span>common<span class="token punctuation">.</span>serialization<span class="token punctuation">.</span>StringDeserializer
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>log4j<span class="token punctuation">.</span>Logger
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span><span class="token punctuation">{</span>SparkConf<span class="token punctuation">,</span> SparkContext<span class="token punctuation">}</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>sql<span class="token punctuation">.</span>SparkSession
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>streaming<span class="token punctuation">.</span>dstream<span class="token punctuation">.</span>DStream
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>streaming<span class="token punctuation">.</span>kafka010<span class="token punctuation">.</span>ConsumerStrategies<span class="token punctuation">.</span>Subscribe
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>streaming<span class="token punctuation">.</span>kafka010<span class="token punctuation">.</span>KafkaUtils
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>streaming<span class="token punctuation">.</span>kafka010<span class="token punctuation">.</span>LocationStrategies<span class="token punctuation">.</span>PreferConsistent
<span class="token keyword">import</span> org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>streaming<span class="token punctuation">.</span><span class="token punctuation">{</span>Seconds<span class="token punctuation">,</span> StreamingContext<span class="token punctuation">}</span>
<span class="token keyword">import</span> org<span class="token punctuation">.</span>elasticsearch<span class="token punctuation">.</span>spark<span class="token punctuation">.</span>rdd<span class="token punctuation">.</span>EsSpark


<span class="token comment">/**
  * @author wangjx
  * 测试kafka数据进行统计  kafka自身维护offset（建议使用自定义维护方式维护偏移量）
  */</span>
<span class="token keyword">object</span> SparkStreamingAutoOffsetKafka <span class="token punctuation">{</span>
  <span class="token comment">//定义样例类 与es表对应</span>
  <span class="token keyword">case</span> <span class="token keyword">class</span> people<span class="token punctuation">(</span>name<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>country<span class="token operator">:</span><span class="token builtin">String</span><span class="token punctuation">,</span>age<span class="token operator">:</span><span class="token builtin">Int</span><span class="token punctuation">)</span>

  <span class="token keyword">def</span> main<span class="token punctuation">(</span>args<span class="token operator">:</span> Array<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Unit</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">val</span> logger <span class="token operator">=</span> Logger<span class="token punctuation">.</span>getLogger<span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>getClass<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//spark 配置</span>
    <span class="token keyword">val</span> conf <span class="token operator">=</span> <span class="token keyword">new</span> SparkConf<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setAppName<span class="token punctuation">(</span><span class="token string">"SparkStreamingAutoOffsetKafka"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>setMaster<span class="token punctuation">(</span><span class="token string">"local[2]"</span><span class="token punctuation">)</span>
    conf<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token string">"es.index.auto.create"</span><span class="token punctuation">,</span><span class="token string">"true"</span><span class="token punctuation">)</span>
    conf<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token string">"es.nodes"</span><span class="token punctuation">,</span><span class="token string">"127.0.0.1"</span><span class="token punctuation">)</span>
    conf<span class="token punctuation">.</span>set<span class="token punctuation">(</span><span class="token string">"es.port"</span><span class="token punctuation">,</span><span class="token string">"9200"</span><span class="token punctuation">)</span>
    <span class="token comment">//spark streaming实时计算初始化 定义每10秒一个批次 准实时处理 企业一般都是准实时 比如每隔10秒统计近1分钟的数据等等</span>
    <span class="token keyword">val</span> ssc <span class="token operator">=</span> <span class="token keyword">new</span> StreamingContext<span class="token punctuation">(</span>conf<span class="token punctuation">,</span> Seconds<span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> spark <span class="token operator">=</span> SparkSession<span class="token punctuation">.</span>builder<span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span>config<span class="token punctuation">(</span>conf<span class="token punctuation">)</span>
      <span class="token punctuation">.</span>getOrCreate<span class="token punctuation">(</span><span class="token punctuation">)</span>
    spark<span class="token punctuation">.</span>sparkContext<span class="token punctuation">.</span>setLogLevel<span class="token punctuation">(</span><span class="token string">"WARN"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//设置kafka参数</span>
    <span class="token keyword">val</span> kafkaParams <span class="token operator">=</span> Map<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> Object<span class="token punctuation">]</span><span class="token punctuation">(</span>
      <span class="token string">"bootstrap.servers"</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">"x:9092"</span><span class="token punctuation">,</span>
      <span class="token string">"key.deserializer"</span> <span class="token operator">-</span><span class="token operator">></span> classOf<span class="token punctuation">[</span>StringDeserializer<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"value.deserializer"</span> <span class="token operator">-</span><span class="token operator">></span> classOf<span class="token punctuation">[</span>StringDeserializer<span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token string">"group.id"</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">"exactly-once"</span><span class="token punctuation">,</span>
      <span class="token string">"auto.offset.reset"</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token string">"latest"</span><span class="token punctuation">,</span>
      <span class="token string">"enable.auto.commit"</span> <span class="token operator">-</span><span class="token operator">></span> <span class="token punctuation">(</span><span class="token boolean">false</span><span class="token operator">:</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token builtin">Boolean</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token comment">//kafka主题</span>
    <span class="token keyword">val</span> topic <span class="token operator">=</span> Set<span class="token punctuation">(</span><span class="token string">"kafka8"</span><span class="token punctuation">)</span>
    <span class="token comment">//从kafka获取数据</span>
    <span class="token keyword">val</span> stream <span class="token operator">=</span> KafkaUtils<span class="token punctuation">.</span>createDirectStream<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span>
      ssc<span class="token punctuation">,</span>
      PreferConsistent<span class="token punctuation">,</span>
      Subscribe<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">,</span> <span class="token builtin">String</span><span class="token punctuation">]</span><span class="token punctuation">(</span>topic<span class="token punctuation">,</span> kafkaParams<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
    <span class="token comment">//具体的业务逻辑</span>
    <span class="token keyword">val</span> kafkaValue<span class="token operator">:</span> DStream<span class="token punctuation">[</span><span class="token builtin">String</span><span class="token punctuation">]</span> <span class="token operator">=</span> stream<span class="token punctuation">.</span>flatMap<span class="token punctuation">(</span>line<span class="token keyword">=></span>Some<span class="token punctuation">(</span>line<span class="token punctuation">.</span>value<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token keyword">val</span> peopleStream <span class="token operator">=</span> kafkaValue
      <span class="token punctuation">.</span>map<span class="token punctuation">(</span>_<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token string">":"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token comment">//形成people样例对象</span>
      <span class="token punctuation">.</span>map<span class="token punctuation">(</span>m<span class="token keyword">=></span>people<span class="token punctuation">(</span>m<span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span>m<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>m<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>toInt<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token comment">//存入ES</span>
    peopleStream<span class="token punctuation">.</span>foreachRDD<span class="token punctuation">(</span>rdd <span class="token keyword">=></span><span class="token punctuation">{</span>
      EsSpark<span class="token punctuation">.</span>saveToEs<span class="token punctuation">(</span>rdd<span class="token punctuation">,</span> <span class="token string">"people/man"</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token comment">//启动程序入口</span>
    ssc<span class="token punctuation">.</span>start<span class="token punctuation">(</span><span class="token punctuation">)</span>
    ssc<span class="token punctuation">.</span>awaitTermination<span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
      </div></div><p class="post-notification" data-reactid="25"><!-- react-text: 26 -->本文已由作者授权发布，版权属于<!-- /react-text --><a href="https://knownsec-fed.com/" data-reactid="27">创宇前端</a><!-- react-text: 28 -->。欢迎注明出处转载本文。本文链接：<!-- /react-text --><a href="https://knownsec-fed.com/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/" data-reactid="29">https://knownsec-fed.com/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/</a><br data-reactid="30"/><!-- react-text: 31 -->想要看到更多来自知道创宇开发一线的分享，请搜索关注我们的微信公众号：创宇前端（KnownsecFED）。欢迎留言讨论，我们会尽可能回复。<!-- /react-text --><br data-reactid="32"/><!-- react-text: 33 -->感谢您的阅读。<!-- /react-text --></p></div><div class="post-sidebar" data-reactid="34"><div class="sidebar" data-reactid="35"><div class="official-account" style="background-color:white;" data-reactid="36"><img src="/static/official-account.1070ccf0.png" data-reactid="37"/><span data-reactid="38">订阅技术文章推送</span></div><div class="sidebar-hots" style="background-color:white;" data-reactid="39"><header data-reactid="40">热门推荐</header><header data-reactid="41"><a href="/2018-08-08-qiao-qiao-xian-qi-webassembly-de-shen-mi-mian-sha/" data-reactid="42">悄悄掀起 WebAssembly 的神秘面纱</a></header><header data-reactid="43"><a href="/2018-03-01-wei-xian-de-targetblank-yu-opener/" data-reactid="44">危险的 target=&quot;_blank&quot; 与 “opener”</a></header><header data-reactid="45"><a href="/2018-08-10-dapp-kai-fa-jian-jie/" data-reactid="46">区块链上编程：DApp 开发简介</a></header><header data-reactid="47"><a href="/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/" data-reactid="48">简述大数据实时处理框架</a></header></div><div class="sidebar-hots" style="background-color:white;" data-reactid="49"><header data-reactid="50">友情链接</header><header data-reactid="51"><a href="https://mp.weixin.qq.com/s/kf4a9-aatnZs4tUyl44izg" title="关注我们首选这里" target="_blank" data-reactid="52">「创宇前端」微信公众号</a></header><header data-reactid="53"><a href="https://www.zhihu.com/people/chuang-yu-qian-duan" title="你在哪里，我们就在哪里" target="_blank" data-reactid="54">「创宇前端」在知乎</a></header><header data-reactid="55"><a href="https://juejin.im/user/5a4f2e8b6fb9a01c9e45c33b" title="你在哪里，我们就在哪里" target="_blank" data-reactid="56">「创宇前端」在掘金</a></header><header data-reactid="57"><a href="https://mp.weixin.qq.com/s/nwDKAeNX-2GWINYPj-mVVA" title="「创宇前端」在前端早读课的专栏" target="_blank" data-reactid="58">前端早读课</a></header><header data-reactid="59"><a href="http://blog.lowords.com/" title="「创宇前端」作者 小烜同学 的技术博客" target="_blank" data-reactid="60">小烜同学</a></header><header data-reactid="61"><a href="http://www.alloyteam.com" title="腾讯全端 AlloyTeam 团队" target="_blank" data-reactid="62">腾讯AlloyTeam</a></header><header data-reactid="63"><a href="http://taobaofed.org" title="淘宝前端团队" target="_blank" data-reactid="64">淘宝FED</a></header><header data-reactid="65"><a href="http://fex.baidu.com" title="百度 Web 前端研发部" target="_blank" data-reactid="66">百度FED</a></header><header data-reactid="67"><a href="https://75team.com" title="奇虎 360 最大的前端团队" target="_blank" data-reactid="68">奇舞团</a></header><header data-reactid="69"><a href="https://aotu.io" title="京东用户体验设计部" target="_blank" data-reactid="70">凹凸实验室</a></header></div></div></div></div></div></div><div class="layout-official-account" data-reactid="71"><div class="official-account" style="background-color:#F5F9FC;" data-reactid="72"><img src="/static/official-account.1070ccf0.png" data-reactid="73"/><span data-reactid="74">订阅技术文章推送</span></div></div><div class="footer" data-reactid="75"><div class="footer-bottom" data-reactid="76"><div class="footer-copyright" data-reactid="77">Copyright © 知道创宇版权所有</div><div class="footer-social" data-reactid="78"><a href="/rss.xml" alt="rss" data-reactid="79"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCAzMTAgMzEwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMTAgMzEwOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiBjbGFzcz0iIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjczMjMwNCAwIDAgMC43MzIzMDQgNDEuNDkyOSA0MS40OTI5KSI+PGcgaWQ9IlhNTElEXzc4OF8iPgoJPHBhdGggaWQ9IlhNTElEXzc4OV8iIGQ9Ik05MC4yNDQsMjY0LjgyOEM5MC4yNDQsMjQwLjExLDcwLjEzOSwyMjAsNDUuNDI3LDIyMGMtMjQuNzE1LDAtNDQuODIyLDIwLjExLTQ0LjgyMiw0NC44MjggICBjMCwyNC43MTQsMjAuMTA3LDQ0LjgyLDQ0LjgyMiw0NC44MkM3MC4xMzksMzA5LjY0OCw5MC4yNDQsMjg5LjU0Miw5MC4yNDQsMjY0LjgyOHoiIGRhdGEtb3JpZ2luYWw9IiMwMDAwMDAiIGNsYXNzPSJhY3RpdmUtcGF0aCIgZGF0YS1vbGRfY29sb3I9IiMwMDAwMDAiIGZpbGw9IiNENEQ2REUiLz4KCTxwYXRoIGlkPSJYTUxJRF83OTBfIiBkPSJNNS42NDgsMTY5LjQzYzM1Ljk2MSwwLDY5Ljc4MiwxNC4wNjYsOTUuMjMxLDM5LjYwNWMyNS40NSwyNS41ODMsMzkuNDY3LDU5LjY0OCwzOS40NjcsOTUuOTIgICBjMCwyLjc2MiwyLjIzOCw1LDUsNWg1Ny40ODZjMi43NjIsMCw1LTIuMjM4LDUtNWMwLTExMS45NTItOTAuNjk5LTIwMy4wMzEtMjAyLjE4NS0yMDMuMDMxYy0yLjc2MiwwLTUsMi4yMzgtNSw1djU3LjUwNSAgIEMwLjY0OCwxNjcuMTkxLDIuODg3LDE2OS40Myw1LjY0OCwxNjkuNDN6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iYWN0aXZlLXBhdGgiIGRhdGEtb2xkX2NvbG9yPSIjMDAwMDAwIiBmaWxsPSIjRDRENkRFIi8+Cgk8cGF0aCBpZD0iWE1MSURfNzkxXyIgZD0iTTUuNzI2LDBjLTIuNzYyLDAtNSwyLjIzOC01LDV2NTcuNDk1YzAsMi43NjIsMi4yMzgsNSw1LDVjMTMwLjI0LDAsMjM2LjE5OSwxMDYuNTQ0LDIzNi4xOTksMjM3LjUwNSAgIGMwLDIuNzYyLDIuMjM4LDUsNSw1aDU3LjQ3MWMyLjc2MiwwLDUtMi4yMzgsNS01QzMwOS4zOTYsMTM2LjgyMiwxNzMuMTcsMCw1LjcyNiwweiIgZGF0YS1vcmlnaW5hbD0iIzAwMDAwMCIgY2xhc3M9ImFjdGl2ZS1wYXRoIiBkYXRhLW9sZF9jb2xvcj0iIzAwMDAwMCIgZmlsbD0iI0Q0RDZERSIvPgo8L2c+PC9nPiA8L3N2Zz4K" data-reactid="80"/></a><a href="https://github.com/KnownsecFED" target="_blank" alt="github" data-reactid="81"><img src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQ3OC42MTMgNDc4LjYxMyIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDc4LjYxMyA0NzguNjEzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4IiBjbGFzcz0iIj48ZyB0cmFuc2Zvcm09Im1hdHJpeCgwLjc5MzYxNCAwIDAgMC43OTM2MTQgNDkuMzg5NCA0OS4zODk0KSI+PGcgaWQ9IlhNTElEXzEyMl8iPgoJPGc+CgkJPHBhdGggZD0iTTQyNy41MDEsMjAwLjY5NWMxLjc3Ni0xMS4yMzgsMi44ODQtMjMuNTYsMy4xNjMtMzcuMzc3Yy0wLjEwNy01OS4yNDYtMjguNDY4LTgwLjIxLTMzLjkyNS05MC4wMzggICAgYzguMDM3LTQ0Ljg5LTEuMzMxLTY1LjMwOS01LjY4OC03Mi4yOTljLTE2LjA3LTUuNzA0LTU1LjkxLDE0LjcyMi03Ny42NzgsMjkuMTAxYy0zNS40OTEtMTAuMzg5LTExMC40OTQtOS4zNzUtMTM4LjYyMSwyLjY4OSAgICBDMTIyLjg1Ni00LjM4OSw5NS40MDgsMS4yNzcsOTUuNDA4LDEuMjc3cy0xNy43NDUsMzEuODItNC42OTEsNzguMzcxYy0xNy4wNzUsMjEuNzU5LTI5LjgwMiwzNy4xNDMtMjkuODAyLDc3Ljk0OSAgICBjMCw5Ljc3MywwLjYwNywxOS4wMDgsMS42MzcsMjcuODkzYzE0LjcwNSw3Ny4zMTgsNzUuOTcsMTEwLjY3NCwxMzYuMTUsMTE2LjQyNmMtOS4wNTYsNi44ODEtMTkuOTI4LDE5LjkwMy0yMS40MzIsMzQuOTkyICAgIGMtMTEuMzc5LDcuMzU3LTM0LjI2OCw5Ljc4OS01Mi4wNjcsNC4xOTNjLTI0LjkzOS03Ljg4LTM0LjQ4Ni01Ny4yNjYtNzEuODMzLTUwLjIyMWMtOC4wODEsMS41MTItNi40NzUsNi44NDIsMC41MjMsMTEuMzg2ICAgIGMxMS4zNzgsNy4zOCwyMi4wOTQsMTYuNTU0LDMwLjM1NCwzNi4xODVjNi4zNDQsMTUuMDcyLDE5LjY4Nyw0MS45ODIsNjEuODczLDQxLjk4MmMxNi43NDcsMCwyOC40NzctMS45NzksMjguNDc3LTEuOTc5ICAgIHMwLjMxOSwzOC40MDYsMC4zMTksNTMuMzg1YzAsMTcuMjM4LTIzLjI2NCwyMi4wNzgtMjMuMjY0LDMwLjM0OGMwLDMuMjg5LDcuNywzLjYwMSwxMy44ODgsMy42MDEgICAgYzEyLjIyOSwwLDM3LjY3My0xMC4xODYsMzcuNjczLTI4LjEwM2MwLTE0LjIzNywwLjIyNy02Mi4wODEsMC4yMjctNzAuNDZjMC0xOC4zMDcsOS44MTEtMjQuMTM2LDkuODExLTI0LjEzNiAgICBzMS4yMDEsOTcuNzI3LTIuMzYxLDExMC44MjljLTQuMTc3LDE1LjQwOC0xMS43NDQsMTMuMjE5LTExLjc0NCwyMC4wNzZjMCwxMC4yMzMsMzAuNTg5LDIuNTAyLDQwLjczNS0xOS44OTcgICAgYzcuODQ5LTE3LjQ5NSw0LjMzNC0xMTMuMzMxLDQuMzM0LTExMy4zMzFsOC4xODMtMC4xNzhjMCwwLDAuMDk0LDQzLjg5Mi0wLjE4OCw2My45NDRjLTAuMjk1LDIwLjc2OS0yLjQzOCw0Ny4wMjUsOS44OTgsNTkuNDE3ICAgIGM4LjA5Nyw4LjE1LDMyLjkwMywyMi40NTEsMzIuOTAzLDkuMzgyYzAtNy41NzQtMTcuMzcxLTEzLjgzMy0xNy4zNzEtMzQuMzUzVjM0NC40NWMxMC41NTMsMCwxMi43MzQsMzEuMDcyLDEyLjczNCwzMS4wNzIgICAgbDMuODA0LDU3LjcyN2MwLDAtMi41MjYsMjEuMDY1LDIyLjc1NiwyOS44NTZjOC45MjUsMy4xMjYsMjguMDE4LDMuOTc2LDI4LjkxMy0xLjI3MWMwLjg5Ny01LjI2LTIyLjk5LTEzLjAzOC0yMy4yMTctMjkuMzQyICAgIGMtMC4xMjMtOS45MywwLjQ0NS0xNS43NDIsMC40NDUtNTguOTM0YzAtNDMuMTY4LTUuNzk5LTU5LjEzNy0yNi4wMDctNzEuODYzQzM1NS42NjksMjk1LjY4MSw0MTYuNTM2LDI2OS41MSw0MjcuNTAxLDIwMC42OTV6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iYWN0aXZlLXBhdGgiIGRhdGEtb2xkX2NvbG9yPSIjNUYyMTIxIiBmaWxsPSIjRDRENkRFIi8+Cgk8L2c+CjwvZz48L2c+IDwvc3ZnPgo=" data-reactid="82"/></a></div></div></div></div></div></div><script>
  
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-42712888-9', 'auto');
  </script></body></html>