{"version":3,"sources":["webpack:///path---2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia-036e23ba142b7659c208.js","webpack:///./.cache/json/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia.json"],"names":["webpackJsonp","655","module","exports","data","site","siteMetadata","title","author","siteUrl","markdownRemark","id","html","fields","slug","frontmatter","date","catalog","allMarkdownRemark","edges","node","pathContext"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,MAAA,oBAAAC,OAAA,cAAAC,QAAA,6BAAyFC,gBAAmBC,GAAA,wHAAAC,KAAA;AAA090CC,QAAgDC,KAAA,4DAAkEC,aAAgBR,MAAA,cAAAS,KAAA,aAAAC,QAAA,OAAAT,OAAA,SAA4EU,mBAAsBC,QAAUC,MAAQP,QAAUC,KAAA,4DAAkEC,aAAgBR,MAAA,OAAea,MAAQP,QAAUC,KAAA,8CAAoDC,aAAgBR,MAAA,4BAAoCa,MAAQP,QAAUC,KAAA,4CAAkDC,aAAgBR,MAAA,iBAAyBa,MAAQP,QAAUC,KAAA,kCAAwCC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,4DAAkEC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,mEAAyEC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,6EAAmFC,aAAgBR,MAAA,8BAAsCa,MAAQP,QAAUC,KAAA,yCAA+CC,aAAgBR,MAAA,mBAA2Ba,MAAQP,QAAUC,KAAA,4CAAkDC,aAAgBR,MAAA,sBAA8Ba,MAAQP,QAAUC,KAAA,kCAAwCC,aAAgBR,MAAA,8BAAsCa,MAAQP,QAAUC,KAAA,kEAAwEC,aAAgBR,MAAA,oBAA4Ba,MAAQP,QAAUC,KAAA,kDAAwDC,aAAgBR,MAAA,mCAA2Ca,MAAQP,QAAUC,KAAA,+BAAqCC,aAAgBR,MAAA,4CAAoDa,MAAQP,QAAUC,KAAA,8EAAoFC,aAAgBR,MAAA,0BAAkCa,MAAQP,QAAUC,KAAA,wDAA8DC,aAAgBR,MAAA,oBAA4Ba,MAAQP,QAAUC,KAAA,6DAAmEC,aAAgBR,MAAA,mBAA2Ba,MAAQP,QAAUC,KAAA,uDAA6DC,aAAgBR,MAAA,gBAAwBa,MAAQP,QAAUC,KAAA,6DAAmEC,aAAgBR,MAAA,6BAAqCa,MAAQP,QAAUC,KAAA,2CAAiDC,aAAgBR,MAAA,iBAAyBa,MAAQP,QAAUC,KAAA,4DAAkEC,aAAgBR,MAAA,kBAA0Ba,MAAQP,QAAUC,KAAA,gCAAsCC,aAAgBR,MAAA,gBAAwBa,MAAQP,QAAUC,KAAA,kEAAwEC,aAAgBR,MAAA,0BAAkCa,MAAQP,QAAUC,KAAA,oEAA0EC,aAAgBR,MAAA,gCAAwCa,MAAQP,QAAUC,KAAA,qCAA2CC,aAAgBR,MAAA,gBAAwBa,MAAQP,QAAUC,KAAA,6CAAmDC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,uBAA6BC,aAAgBR,MAAA,wBAAgCa,MAAQP,QAAUC,KAAA,kEAAwEC,aAAgBR,MAAA,6BAAqCa,MAAQP,QAAUC,KAAA,oFAA0FC,aAAgBR,MAAA,iCAAyCa,MAAQP,QAAUC,KAAA,sFAA4FC,aAAgBR,MAAA,oCAA4Ca,MAAQP,QAAUC,KAAA,gFAAsFC,aAAgBR,MAAA,yBAAiCa,MAAQP,QAAUC,KAAA,4FAAkGC,aAAgBR,MAAA,8BAAsCa,MAAQP,QAAUC,KAAA,2EAAiFC,aAAgBR,MAAA,qCAA6Ca,MAAQP,QAAUC,KAAA,yCAA+CC,aAAgBR,MAAA,kBAA0Ba,MAAQP,QAAUC,KAAA,qDAA2DC,aAAgBR,MAAA,kBAA0Ba,MAAQP,QAAUC,KAAA,0DAAgEC,aAAgBR,MAAA,iCAAyCa,MAAQP,QAAUC,KAAA,mDAAyDC,aAAgBR,MAAA,gBAAwBa,MAAQP,QAAUC,KAAA,iDAAuDC,aAAgBR,MAAA,sBAA8Ba,MAAQP,QAAUC,KAAA,mFAAyFC,aAAgBR,MAAA,iCAAyCa,MAAQP,QAAUC,KAAA,kDAAwDC,aAAgBR,MAAA,eAAuBa,MAAQP,QAAUC,KAAA,kGAAwGC,aAAgBR,MAAA,sCAA8Ca,MAAQP,QAAUC,KAAA,4CAAkDC,aAAgBR,MAAA,qBAA6Ba,MAAQP,QAAUC,KAAA,yEAA+EC,aAAgBR,MAAA,6BAAqCa,MAAQP,QAAUC,KAAA,wEAA8EC,aAAgBR,MAAA,oBAA4Ba,MAAQP,QAAUC,KAAA,uEAA6EC,aAAgBR,MAAA,+BAAuCa,MAAQP,QAAUC,KAAA,qEAA2EC,aAAgBR,MAAA,qBAA6Ba,MAAQP,QAAUC,KAAA,sFAA4FC,aAAgBR,MAAA,2BAAmCa,MAAQP,QAAUC,KAAA,6BAAmCC,aAAgBR,MAAA,mBAA2Ba,MAAQP,QAAUC,KAAA,4CAAkDC,aAAgBR,MAAA,mBAA2Ba,MAAQP,QAAUC,KAAA,4DAAkEC,aAAgBR,MAAA,gCAAwCa,MAAQP,QAAUC,KAAA,mFAAyFC,aAAgBR,MAAA,qCAA6Ca,MAAQP,QAAUC,KAAA,+CAAqDC,aAAgBR,MAAA,oBAA4Ba,MAAQP,QAAUC,KAAA,kEAAwEC,aAAgBR,MAAA,iCAAyCa,MAAQP,QAAUC,KAAA,kDAAwDC,aAAgBR,MAAA,qCAA+Ca,MAAQP,QAAUC,KAAA,4DAAkEC,aAAgBR,MAAA,wCAAgDa,MAAQP,QAAUC,KAAA,gFAAsFC,aAAgBR,MAAA,2BAAmCa,MAAQP,QAAUC,KAAA,gDAAsDC,aAAgBR,MAAA,0BAAkCa,MAAQP,QAAUC,KAAA,qIAA2IC,aAAgBR,MAAA,4CAAoDa,MAAQP,QAAUC,KAAA,wFAA8FC,aAAgBR,MAAA,yCAAiDa,MAAQP,QAAUC,KAAA,6CAAmDC,aAAgBR,MAAA,yBAAiCa,MAAQP,QAAUC,KAAA,0DAAgEC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,2CAAiDC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,2DAAiEC,aAAgBR,MAAA,qBAA6Ba,MAAQP,QAAUC,KAAA,uDAA6DC,aAAgBR,MAAA,+BAAuCa,MAAQP,QAAUC,KAAA,2DAAiEC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,+CAAqDC,aAAgBR,MAAA,kCAA0Ca,MAAQP,QAAUC,KAAA,sHAA4HC,aAAgBR,MAAA,+DAAuEa,MAAQP,QAAUC,KAAA,yCAA+CC,aAAgBR,MAAA,oCAA4Ca,MAAQP,QAAUC,KAAA,4CAAkDC,aAAgBR,MAAA,wBAAgCa,MAAQP,QAAUC,KAAA,sFAA4FC,aAAgBR,MAAA,yBAAiCa,MAAQP,QAAUC,KAAA,0CAAgDC,aAAgBR,MAAA,sBAA8Ba,MAAQP,QAAUC,KAAA,4DAAkEC,aAAgBR,MAAA,mBAA2Ba,MAAQP,QAAUC,KAAA,iCAAuCC,aAAgBR,MAAA,4BAAoCa,MAAQP,QAAUC,KAAA,oCAA0CC,aAAgBR,MAAA,6BAAqCa,MAAQP,QAAUC,KAAA,4DAAkEC,aAAgBR,MAAA,sBAA8Ba,MAAQP,QAAUC,KAAA,gDAAsDC,aAAgBR,MAAA,mBAA2Ba,MAAQP,QAAUC,KAAA,sDAA4DC,aAAgBR,MAAA,qBAA6Ba,MAAQP,QAAUC,KAAA,iDAAuDC,aAAgBR,MAAA,6BAAqCa,MAAQP,QAAUC,KAAA,wDAA8DC,aAAgBR,MAAA,uBAA+Ba,MAAQP,QAAUC,KAAA,gCAAsCC,aAAgBR,MAAA,wBAAgCa,MAAQP,QAAUC,KAAA,oDAA0DC,aAAgBR,MAAA,wBAAgCa,MAAQP,QAAUC,KAAA,sDAA4DC,aAAgBR,MAAA,uCAA+Ca,MAAQP,QAAUC,KAAA,mEAAyEC,aAAgBR,MAAA,yCAAiDa,MAAQP,QAAUC,KAAA,6BAAmCC,aAAgBR,MAAA,wCAAgDa,MAAQP,QAAUC,KAAA,8DAAoEC,aAAgBR,MAAA,yBAAiCa,MAAQP,QAAUC,KAAA,6CAAmDC,aAAgBR,MAAA,mBAA2Ba,MAAQP,QAAUC,KAAA,uBAA6BC,aAAgBR,MAAA,sBAA8Ba,MAAQP,QAAUC,KAAA,kDAAwDC,aAAgBR,MAAA,+BAAuCa,MAAQP,QAAUC,KAAA,0CAAgDC,aAAgBR,MAAA,yBAAgCc,aAAgBP,KAAA","file":"path---2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia-036e23ba142b7659c208.js","sourcesContent":["webpackJsonp([96922125034218],{\n\n/***/ 655:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"创宇前端 - 最酷开发者的技术分享\",\"author\":\"KnownsecFED\",\"siteUrl\":\"https://knownsec-fed.com\"}},\"markdownRemark\":{\"id\":\"/tmp/app/src/pages/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 1200px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABUBAQEAAAAAAAAAAAAAAAAAAAME/9oADAMBAAIQAxAAAAFKlEcSaYZDo//EABsQAAIBBQAAAAAAAAAAAAAAAAECAwAEETEy/9oACAEBAAEFArSMMXhUhhhoafg7/8QAFxEAAwEAAAAAAAAAAAAAAAAAAQIQIv/aAAgBAwEBPwFzqf/EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPwERf//EABkQAAIDAQAAAAAAAAAAAAAAAAERAAIhIP/aAAgBAQAGPwJnVFUbz//EABkQAQEBAQEBAAAAAAAAAAAAAAEAMRFBUf/aAAgBAQABPyHigGj7NQkJAyT3ZPq0v//aAAwDAQACAAMAAAAQy/8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCECw//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QW0M//8QAHRABAAMAAgMBAAAAAAAAAAAAAQARITFBUWGRwf/aAAgBAQABPxBI0hXo3x8m300reG/oHucApyAYIL8zQte7caoqt9z/2Q=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"bigdata\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg\\\"\\n        srcset=\\\"/static/header-e44c25c207e851b1aaf1667f2c83d95f-527f0.jpeg 300w,\\n/static/header-e44c25c207e851b1aaf1667f2c83d95f-9a7cd.jpeg 600w,\\n/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg 1200w\\\"\\n        sizes=\\\"(max-width: 1200px) 100vw, 1200px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n      </p>\\n<h1>欢迎来到BigData的世界</h1>\\n<p>现如今，我们来到了数据时代，数据信息化与我们的生活与工作息息相关。此篇文章简述利用大数据框架，实时处理数据的流程与相关框架的介绍，主要包括：</p>\\n<blockquote>\\n<ul>\\n<li>数据实时处理的概念和意义</li>\\n<li>数据实时处理能做什么</li>\\n<li>数据实时处理架构简介</li>\\n<li>数据实时处理代码演示</li>\\n</ul>\\n</blockquote>\\n<h2>数据实时处理的概念和意义</h2>\\n<p>什么是数据实时处理呢？我个人对数据实时处理的理解为：数据从生成->实时采集->实时缓存存储->（准）实时计算->实时落地->实时展示->实时分析。这一个流程线下来，处理数据的速度在秒级甚至毫秒级。</p>\\n<p>数据实时处理有什么意义呢？我们得到数据可以进行数据分析，利用数据统计方法，从错综复杂的数据关系中梳理出事物的联系，比如发展趋势、影响因素、因果关系等。甚至建立一些BI，对一些数据的有用信息进行可视化呈现，并形成数据故事。</p>\\n<h2>数据实时处理能做什么</h2>\\n<h3>数据的实时计算</h3>\\n<p>何为数据的实时计算？我们从数据源端拿到数据，可能不尽如人意，我们想对得到的数据进行 ETL 操作、或者进行关联等等，那么我们就会用到数据的实时计算。目前主流的实时计算框架有 spark，storm，flink 等。</p>\\n<h3>数据的实时落地</h3>\\n<p>数据的实时落地，意思是将我们的源数据或者计算好的数据进行实时的存储。在大数据领域，推荐使用 HDFS，ES 等进行存储。</p>\\n<h3>数据的实时展示与分析</h3>\\n<p>我们拿到了数据，要会用数据的价值。数据的价值体现在数据中相互关联关系，或与历史关联，或能预测未来。我们实时得到数据，不仅能够利用前端框架进行实时展示，还可以对其中的一些数据进行算法训练，预测未来走势等。</p>\\n<p>example：</p>\\n<p>淘宝双 11 大屏，每年的双 11 是淘宝粉丝疯狂的日子。马云会在双 11 的当天在阿里总部竖起一面大的电子屏幕，展示淘宝这一天的成绩。例如成交额，访问人数，订单量，下单量，成交量等等。这个电子大屏的背后，就是用到的我们所说的数据的实时处理。首先，阿里的服务器遍布全国各地，这些服务器收集PC端、手机端等日志，上报到服务器，在服务上部署数据采集工具。接下来，由于数据量庞大，需要做数据的缓存缓冲处理。下一步，对原始日志进行实时的计算，比如筛选出上面所述的各个指标。最后，通过接口或者其他形式，进行前端屏幕的实时展示。</p>\\n<h2>数据实时处理架构简介</h2>\\n<p>接下来是我们介绍的重点，先放一张数据流程图：\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 864px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 23.148148148148145%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABSUlEQVQY0z2Qy0sCURjF558zaNGiaN++bdgiWkTholXbVu2EolIzLEkiEB/ZUKSYkKTOmOYj8zX3zp2np29u0OLA/S7n8J3vp/D5GBabwpjPwJkBuALwLPiOgGlyLFwLWDhStiXg2OJ/9sjDeeARMufZHMpl7gOJQhOt7gidwQTXJQ3JRw3FWg+MzLnqF/21kVLbGI4NaP0pzbr0PNcHYIzj/rWDZLGFW/IoyztxrO6nES9ouFE/sXaQRih8it1oGZXmCOETFUvbZ1iP3OGh0sNFXsdaJIOVvRQOYzWUG9/YPC4htBXFxlEWynm2jqBlq/uDdn+CK9oUyzeQfwsamshWe7SsKVsNJ4wazpCkxomiDvV9AIMaZl46MpN60qFYbEbnMwhOImYBP/i2ZGcJYuMTL3hSnuvAd4PZJYYuvW0IYf5x9ihDTH8B0bNiMm5vI34AAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"流程图\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png\\\"\\n        srcset=\\\"/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-2f6e1.png 300w,\\n/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-d5612.png 600w,\\n/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png 864w\\\"\\n        sizes=\\\"(max-width: 864px) 100vw, 864px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n     </p>\\n<ul>\\n<li>数据采集端，选用目前采集数据的主流控件 flume。</li>\\n<li>数据缓冲缓存，选用分布式消息队列 kafka。</li>\\n<li>数据实时计算，选用 spark 计算引擎。</li>\\n<li>数据存储位置，选用分布式数据存储 ES。</li>\\n<li>其他，指从 ES 中拿到数据后进行可视化展示，数据分析等。</li>\\n</ul>\\n<p>下面将分别简单的介绍下各个组件：\\n</p>\\n<h3>flume</h3>\\n<p>flume 是一个分布式的数据收集系统,具有高可靠、高可用、事务管理、失败重启、聚合和传输等功能。数据处理速度快,完全可以用于生产环境。</p>\\n<p>flume 的核心概念有：event，agent，source，channel，sink</p>\\n<h4>event</h4>\\n<p>flume 的数据流由事件 (event) 贯穿始终。event 是 flume 的基本数据单位，它携带日志数据并且携带数据的头信息，这些 event 由 agent 外部的 source 生成，当 source 捕获事件后会进行特定的格式化，然后 source 会把事件推入 channel 中。可以把 channel 看作是一个缓冲区，它将保存事件直到 sink 处理完该事件。sink 负责持久化日志或者把事件推向另一个 source。</p>\\n<h4>agent</h4>\\n<p>flume 的核心是 agent。agent 是一个 java 进程,运行在日志收集端,通过 agent 接收日志,然后暂存起来,再发送到目的地。\\n每台机器运行一个 agent。\\nagent 里面可以包含多个 source，channel，sink。</p>\\n<h4>source</h4>\\n<p>source 是数据的收集端，负责将数据捕获后进行特殊的格式化，将数据封装到 event 里，然后将事件推入 channel 中。flume 提供了很多内置的 source，支持 avro,log4j,syslog 等等。如果内置的 source 无法满足环境的需求，flume 还支持自定义 source。</p>\\n<h4>channel</h4>\\n<p>channel 是连接 source 和 sink 的组件，大家可以将它看做一个数据的缓冲区（数据队列），它可以将事件暂存到内存中也可以持久化到本地磁盘上， 直到 sink 处理完该事件。两个较为常用的 channel，MemoryChannel 和 FileChannel。</p>\\n<h4>sink</h4>\\n<p>sink 从 channel 中取出事件，然后将数据发到别处，可以向文件系统、数据库、hadoop、kafka，也可以是其他 agent 的 source。</p>\\n<h3>flume 的可靠性与可恢复性</h3>\\n<ul>\\n<li>flume 的可靠性：当节点出现故障时，日志能够被传送到其他节点上而不会丢失。Flume 提供了可靠性保障，收到数据首先写到磁盘上，当数据传送成功后，再删除；如果数据发送失败，可以重新发送。</li>\\n<li>flume 的可恢复性：可恢复性是靠 channel。</li>\\n</ul>\\n<p>口述抽象，上两张官网贴图:</p>\\n<p>单个 agent 收集数据流程图</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 667px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 37.031484257871064%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABaElEQVQoz22R227TUBBF/f//wRPPBUoRNEIlhYoottPYjdI4QUmT1rfYPk7w7SzmJGAJxEhbI81lz54ZS+c5umnQVQXik+dnwQ6VxORRSLTd/gWTN3EVx7ys1+zD8NR34tjvsbrjkY6zaUGWZ4SZYhJsWO4i/rVDVbPYxcw2IUmuKEvV9+qyxKKuT4GuOfvt9ol3gyEXX8ZcDkeslkt019LIBrqtidKMVxcfeXvr8N2dksomPaFSWIvHFVdfx3waTbHnP3Aduy9q6or3N3cMvRW33pKBPWM8nbEKFmjdUaoC3/fYp+lv+aLQcX3eDMd8uJvgBWsic5M/pjX+JuLaXTBw5lyNHnh8eunTbdsKR4ntOFzbD/jeXFY2z+hFQ5Ik5PKoUgpPEBWm6SjTVZFTS30QBNzfT4jlMSYfZwWvb1w+f5tg6cPhvL+oMb6qflIUBUru8V8IeZomRPJpM7gTleaul04gN53zC0DTDnrgBajeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"agent\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png\\\"\\n        srcset=\\\"/static/agentone-cf2bad6bc004494608f4bd7a9361c771-9f8ae.png 300w,\\n/static/agentone-cf2bad6bc004494608f4bd7a9361c771-55498.png 600w,\\n/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png 667w\\\"\\n        sizes=\\\"(max-width: 667px) 100vw, 667px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>多个 agent 协作处理数据流程图</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 758px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 48.54881266490765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8ElEQVQoz3WSfY+aQBDG/f4fqGlyueo1vcqd1qqgIuCBIriwvIsoIDwd1nr3R6+bTDbZyTzz/Ga2h/fT3qJtUNc1rtfr3ze8323bUq6kqNA0NYpTjt1uC0WRYZkmwA7o2Y6D4zGDyzwYWxeux1GVFyRpisXGhrx+o/xRCN6a/P80rovey2gEZ7+HuXPwc6bjRTYQZzksx8OPyQpr08We8p278pwhcBfYmxPwg4q6LD74mgbtgRzeH7jvIwoDrAwLU9XEWNHBPJ+KzsjzHHEcwzA0rJRnMEeDzyzwIIAXxIjiBA25F4LF5SJm1hUFYYQ0zVDkR5xpPnGSwmEcGSG7hPOlL6H/SwMLM2Fistzg6/MM680WV5pryxh6/acnGqoisIZzHY+vC/A4E/OSZms8SAo0KmDUXVVV6OZOvA+nK4xlcupzBOS0KitaCgnWxN6dKIoo6UE1TLzKOhWpmC4NsaCcHIaU7yiqqkJR0BhOJ4GZJrHYtphjh5xkGS6EzTnHxtzCdpnoGoYhLNvFUjehajrKsvxnq44XQZprGC/fYB8CtN2Wvw0GUGQZB1KXCPlhKCNMjgJ5REjff2swCPP+D+/R/U3HjzHTbEwpHD+5Cd67BeQo4D50a4/BaIlHaU6COmHVAvkmchNFJ/rJP+yQ/wCbPu916QUDzAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"agents\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png\\\"\\n        srcset=\\\"/static/agentmany-3baa47c83896afad517a6f80541b6665-180cf.png 300w,\\n/static/agentmany-3baa47c83896afad517a6f80541b6665-b0bd1.png 600w,\\n/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png 758w\\\"\\n        sizes=\\\"(max-width: 758px) 100vw, 758px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h3>kafka</h3>\\n<p>Kafka 是一个高吞吐量的分布式发布-订阅消息系统。企业中一般使用 kafka 做消息中间件，做缓冲缓存处理。需要 zookeeper 分布式协调组件管理。</p>\\n<p>kafka 的设计目标：</p>\\n<ol>\\n<li>提供优秀的消息持久化能力，对 TB 级以上数据也能保证常数时间的访问性能。</li>\\n<li>高吞吐率。即使在非常廉价的机器上也能做到每台机每秒 100000 条消息的传输。</li>\\n<li>支持 kafka server 间的消息分区，及分布式消费，同时保证每个 partition 内的消息顺序传输。</li>\\n<li>同时支持离线数据处理和实时数据处理。</li>\\n</ol>\\n<p>kafka 核心概念</p>\\n<ul>\\n<li>broker：消息中间件处理结点，一个 kafka 节点就是一个 broker，多个 broker 可以组成一个 kafka 集群。</li>\\n<li>topic：主题，kafka 集群能够同时负责多个 topic 的分发。</li>\\n<li>partition：topic 物理上的分组，一个 topic 可以分为多个 partition，每个 partition 是一个有序的队列。</li>\\n<li>offset：每个 partition 都由一系列有序的、不可变的消息组成，这些消息被连续的追加到 partition 中。partition 中的每个消息都有一个连续的序列号叫做 offset，用于 partition 唯一标识一条消息。</li>\\n<li>producer：负责发布消息到 kafka broker。</li>\\n<li>consumer：消息消费者，向 kafka broker读取消息的客户端。</li>\\n<li>consumer group：每个 consumer 属于一个特定的 consumer group。</li>\\n</ul>\\n<p>贴两张官网图</p>\\n<p>prodecer-broker-consumer\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 696px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 42.38505747126437%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABNElEQVQoz31Ri46EIAz0/z/wctnXuav4QAWfgCLMVe7cmL1Hk6ZkaKEzE+GX8N4/634+4q93xxoJZZENC4rxK61zmKYJeZah73sopcB5iaqqoLVGXdcoizLgA93neY5xHOFobovIWIdWW0jK3qxYnYehwY/4gYLXGCeFJGVgWREGipLjnqQB53WDW3yHpsf3LSP8E/2k0Y0KclCI8wqXpMCVcYh+CviW/kWqiE8L3hvaqDVY/9BuC2M0rg8W5PDf9I69zw03ivPqQvpfzNHzgsWu4I3A2/mGrCQt5xlmtiSP+9EfucPr+3kTeCC6lezQDSMy3uAUM3DRhpoQ/Q2vRAfR9qH/uWFHRsRE99HNuEkDQeYoosUYg5CSnFW4k/Cb66tdwNIU18slONw09NHpDEl9u8ufL+tsaKUwIWsAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"kafka\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png\\\"\\n        srcset=\\\"/static/kafka-b6e21b060850a0f9660f962f41857c8e-4ef7b.png 300w,\\n/static/kafka-b6e21b060850a0f9660f962f41857c8e-fb508.png 600w,\\n/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png 696w\\\"\\n        sizes=\\\"(max-width: 696px) 100vw, 696px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>分区图\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 616px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 53.08441558441559%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACOUlEQVQoz22S3U/TYBjF+Vu90Fu90MRwyY1RiMYPMOLQsWHADMZUcM4FFlgGDmuUCeNrfKxj2VdHy9q13db+fFfEDcOTND19c57n7TnnGXBdl8vHccByztBaxyiNQ1T7GNOp0y3XdXAFQdDo7/EOuDjr1oCA9Ffd/cmOOYlUnGC/HUB117B1o491ld8/rPseMAW2BCifm0Q2FHLnabItP0edEFlpig+RGcKzn5AjTyAzx3apRXC1QNGw2BIXbZTrqE2rNzClNYiXFDblCpljg72zJN+152RUP5nFZ3x89YhYcJz8xG3s5VFhA5RrDbY0nYWaSrRQwbBavYGJssJ6VaXaaHJQtMgqCdL1ESRtlN/1x1QqIfT8Lq5RFS1tWsJn3ep4wo2OI757ct0LDy9KadjMpKr8KsWJF4ZIF5+SjgZ4M+5n+m0Q/+sAa+EpdnIyvsQpp7rJQbuDVD27KvlfWn/NzqlfieXvsyI/RFp+wHp4mP34e7Y/BzhKhHAs3Us2KyRHTitE8yUMu09yF1piHcxWm+5F29VFFnJ3+HI0SOzkLntCclM9F6yO12S23T7J7hXJ3tokFZXlco1vh2V8S2WSuVmmM7eI7gwiLfiYHH2Jb2ycvRc3YWmE1VyTd0kZ2RR+mzaSyKDd6fT+cEXRSIlQtGbTU/1DDhOUbjCfuUcqNkRqbpjdpXlqsTGszUURCzhiwJrwLiSXWC1WPQvcy4H/L2nT1lB0mbpeoGacYDvqtSvdxc41y/0Hu5knk/Fry1QAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"kafkas\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png\\\"\\n        srcset=\\\"/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-e3f69.png 300w,\\n/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-990cf.png 600w,\\n/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png 616w\\\"\\n        sizes=\\\"(max-width: 616px) 100vw, 616px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h3>spark</h3>\\n<p>spark 是一个分布式的计算框架，是我目前认为最火的计算框架。</p>\\n<p>spark，是一种”one stack to rulethem all”的大数据计算框架,期望使用一个技术栈就完美地解决大数据领域的各种计算任务。apache 官方,对 spark 的定义是:通用的大数据快速处理引擎（一“栈”式）。</p>\\n<h4>spark组成</h4>\\n<ol>\\n<li>spark core 用于离线计算</li>\\n<li>spark sql 用于交互式查询</li>\\n<li>spark streaming，structed streaming 用于实时流式计算</li>\\n<li>spark MLlib 用于机器学习</li>\\n<li>spark GraphX 用于图计算</li>\\n</ol>\\n<h4>spark 特点</h4>\\n<ol>\\n<li>速度快：spar k基于内存进行计算(当然也有部分计算基于磁盘,比如 shuffle)。</li>\\n<li>容易上手开发：spark 的基于 rdd 的计算模型，比 hadoop 的基于 map-reduce 的计算模型要更加易于理解,更加易于上手开发,实现各种复杂功能。</li>\\n<li>通用性：spark 提供的技术组件,可以一站式地完成大数据领域的离线批处理、交互式查询、流式计算、机器学习、图计算等常见的任务。</li>\\n<li>与其他技术的完美集成：例如 hadoop，hdfs、hive、hbase 负责存储，yarn 负责资源调度，spark 负责大数据计算。</li>\\n<li>极高的活跃度：spark 目前是 apache 的顶级项目,全世界有大量的优秀工程师是 spark 的 committer，并且世界上很多顶级的 IT 公司都在大规模地使用 spark。</li>\\n</ol>\\n<p>贴个spark架构图\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/spark-216a1e252f7e5ab82723b92ce15241ed-c56ad.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 1200px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 55.91572123176661%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+klEQVQoz22QW0yTZxzGXxOjiVqlkwp4YENgixt4StAZUZkRtTIYTjfRKRPxwmiilqo3kug2ETcqZvGAGk1cYnaAi8XExMRkiXfOmVLEWsrX8iGiAQr9vvaz5yK/vfFWL578n//hed4nr4jH4viVCN2uKH2+GMlEEsVr8PiRjk8JoQUNujp1XE6D4aEI8VgMr8fgaZeB0msQGhtl1P0YfcBPQmrFq8EoWZY0ubkT5C5Ic/9eiE8KE5hMsLIkQdtFDbN5gpmmNzQciUuzODlZKT5bNE7+IvD8+RfOxYKn+0qJyMeEX9EwzUgzfz5kzk7x4B+NjwuSzJkjDVckuHFVJzt7AovlDccaYqj+1+TnpVhbOk7xcnD/3s4zqwV33WqisShiNBBmf22QKqtGbU2Qm9eC1O/RZB/iQL3Orw6drytDVFeE+KFR5/YtjV3bg1Rbx7DZk7y424H7qzy8hyvefodQ/SEmTwUh3oXZAh9kwUzz+/ez5kJPewedxYLumqUkU2mZcMSgflsfO8p9fGf1s9uqsLO8h52bfNRW+qmrUtj7bYDva8Jy52NPhZ9dsn5T5uHQ7n4G7t3BU7eC/tYG0uPjiMjQAL2VZrzrJ+PdMAXlywyU7Tn0bJ6GZ9M0uj8XvHLsxXjwG+5Vgh7rdDwbp8qbufRWZNC5ZjrOdbPo3lpIKvpaGg4P4tryEc4vMnGut+CqzEfZWoSyOhNvaSae4kkMNu4n+PdtnhUJObPgXZWBr7qIrqpCXBssdJZl8EQaxkIaIildB640orYcxnf+CCMtdg6eLWHh2SyWnsulqCmHzbfK2fJHFYub5rGkeQEFzdnUNi3hheMoaqsNX/NB1LZThHVdJnyp8uhTwb95gocFAudCwY0SwakyQdNawU+lgks7zFzeZuKM5Gfk7PQ6QdtKwX/5Uic1Dz+UfJkgHBhGGGMB+i+fRD1vQ71wjL4LdoZkyuDPdsZ+sTMq68g5GwHJNcdxiRPoEsMt8rbV/lajOmw8v/4jESPM/5bWRydMtgHdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"spark\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/spark-216a1e252f7e5ab82723b92ce15241ed-abe1c.png\\\"\\n        srcset=\\\"/static/spark-216a1e252f7e5ab82723b92ce15241ed-10046.png 300w,\\n/static/spark-216a1e252f7e5ab82723b92ce15241ed-3c4a3.png 600w,\\n/static/spark-216a1e252f7e5ab82723b92ce15241ed-abe1c.png 1200w,\\n/static/spark-216a1e252f7e5ab82723b92ce15241ed-c56ad.png 1234w\\\"\\n        sizes=\\\"(max-width: 1200px) 100vw, 1200px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>数据实时处理代码演示</h2>\\n<h3>搭建好各个集群环境</h3>\\n<p>需要搭建 flume 集群，kafka 集群，es 集群，zookeeper 集群，由于本例 spark 是在本地模式运行，所以无需搭建 spark 集群。</p>\\n<h3>配置好组件之间整合的配置文件</h3>\\n<p>搭建好集群后，根据集群组件直接的整合关系，配置好配置文件。其中主要的配置为 flume 的配置，如下图：</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 657px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 100.4566210045662%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAC0klEQVQ4y41U2XLaQBDUg2MnvuMz8QX4AmlXBwKBAAFCnMY4duX6/z/p9CgJkQvs+GFqV6vVqKe7Zwx16kPn61CfPWiJQxv2eZVRgX0m4cPmHfuk/O95z4Rey8P+cLkQRnjVQHARoMbweblSCGHvW7A/mvyQ6yc33et3F9CrOa65eTL9vrCY8FttinGpjXu7j16hjohInPUr6MwlvQTJsmRpQklQI6LmsYPwQMPfuoXDF4poJPRa4VmClxLNE7rkxSVHLnlzT8vwcgHK/InHMz9XS8t+rcTFksMHjK0u7t0hBrctDM0upnaCLsv/4o8R52tvTpYm7FPh6NhFm6iaVDii0lJ+nXs5KwsFwukrCbPvjBI/sLaLMLe5yn7rBhZfmCvnsKiouXKBEvfy0UuRTWrMGg9IdA8jf4QeSx95Q3QvQySXjVT1O57NnD5aRB6R1w792T6rIia/Eh4BPEP4sz7DpNjGIzmc3EZ4Ko8wI4ffaac7K8YTefwRztAgLZIwpmjOxhXs9RdKfnAHRBPSix0kRDQx4xTdVPUwoT/Fo02iC4/slEtL7ETVTTF6ptx5yV+DKQY3LUx1ghFVFoOPS90U2ZDPI6KWM/lpRIvVDzUquyYbgFbbWBTLqLGtxMwVilLeuE5XeQ52S/C35byY7quMYOf3Wt4pkgJnqfqGxYSKl5SsBwqKRrYk9hU0z9L3HAaKyRStpPgT6SBxwLLuMSYUIWZpY2eAPhVtkce+itEhDQl57XJ1pFuoZjosiM7OJFhA+EhRBuRnyg4ZXzcRswXvqLpEjxPonkqLwatSpoy2jABLO0WTNyVcCMF/9mJsvXkNh6hcJvJIiStBbv/XhkbCkiOW2qG5W1RUokfUERFWidY78aBoGRmyevNmYfosJBRTd3g5YU+3+XH3POC+huaRg0CGrJQo02Y1P+fuVYQWL6Y9S6OKac3MXgys3zhY/8Yv53E//87mDeoAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"flume\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png\\\"\\n        srcset=\\\"/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-b4100.png 300w,\\n/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-b5002.png 600w,\\n/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png 657w\\\"\\n        sizes=\\\"(max-width: 657px) 100vw, 657px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>可以看到，我们的 agent 的 source 为 r1，channel 为 c1，sink 为 k1，source 为我本地 nc 服务，收集日志时，只需要打开 9999 端口就可以把日志收集。channel 选择为 memory 内存模式。sink 为 kafka 的 topic8 主题。</p>\\n<h3>开启各个集群进程</h3>\\n<ol>\\n<li>开启 zookeeper 服务。其中 QuorumPeerMain 为 zookeeper 进程。</li>\\n<li>开启 kafka 服务。</li>\\n<li>开启 es 服务。</li>\\n<li>开启 flume 服务。其中 Application 为 flume 进程。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 218px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 66.97247706422019%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACgUlEQVQ4y31TZ2/aQBhGrbrSFaUjiQIZZQ8bsM0ImOEBdrwwYKiBklRqK1X9/9+fvndJEWqlfjid77Xv4VkkQsnGVouwNWIYlwqC+hhBbQRXMOBXTYSyBTvfhV+3sWi5mFQNGBkVy2sf9dcZlJ9dQXjxabcSVmGACYGEigPjqoF+SoGR7mDacDBv2BheNGFmrmEVhwgIzMqr6CUVjLJdAsz+CzjKqpjKNjzRpAs6mu/KmDU9zBUbX0cxZ9I4KiKTOEX+URL5x0kUn5yj8DiFyvN7sD/7PWCuD0/QiJGLuOOheVSCnu5y1p0TEa33FWKS4x+LB2kIBw9sHvZ9sHvJJZ2YmVgNIvwKtlAO89yjb84XDM9lzmr/wv8WA0987kxIVoBQsjhYULcQNR241THUEwGlpxfk0yVf7MLfz/s7ZxiSfxMC8ylZ9VSESWaH0hiOYPKQaq8yaJCv9Td5VF+mac9BPizQPAvpbQEizWpkCXvHGa56M9yaK2wGM84oanlYk/x1f0opu7jVZrgzY2y0BTb9EKtuwENb9+fc+3VviphmNUqcAw4vW7BLQ+rcCDN5jPZHgc4a7OKAqtGBftXCDZ0XbZ/XZkwzt2IQGD3nulQhmddnJ5ldnJNnEyr4nRFRqmVE7QDrYYRJzYRbHnAw1gL2B2DF9sQRKZoTM59+sM0rxFLnDJcUyoYkrnohOscVqGcynLLOi+4LQx4W87mfkpFOHFMPU5T8GU+fAbHQ9utDPewRgEYydAySEpfAzh6l7ItsrvGzeibxcBQKhIXBQtivy66HgXSDBdXmVo/w3Yq55AVJ/jn9gbjtENMbhCR9qy8pgJCHd2cs0fpQ2bHbX78BmaydzBlsjVsAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"thread\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png\\\"\\n        srcset=\\\"/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png 218w\\\"\\n        sizes=\\\"(max-width: 218px) 100vw, 218px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </li>\\n</ol>\\n<h3>创建好 es 对应 table</h3>\\n<p>创建好 es 对应的表，表有三个字段，对应代码里面的 case class（代码随后贴上）。</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 458px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 105.02183406113537%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACj0lEQVQ4y51VaXOiQBD1//+1rf24ldvEGBNFhGEOYBjg7esmmJhYZmunqu05H92vDxex9kjVAcnk6CjJHNBz3ZcZhq5DPwzo+/4og0jqMHzZ7/uBZwmLpq5RHXIYSr7bInt7xSHbIe7XSARsmpbSwHsP5wPa4DD6AjH1qPlWxDkHF2p03mAhi8paFKWBMRVM9SFlWaoURaHaGAPLu+ek4n3RC7m03W5xdXWF9Xqt8yzLsFqtsFwusXxY4vr6Grc3N3h6fNSzS7IQV9QdWio6hKDaO3GRe4F7dYOK7lZ0L7y7+P2dvHET4AwiuiNvbdvqoWsCQororMHu8Y7WPyFyr26jnssb4VDuR75zfL+QjflLwsME9rGWM5u9wb4+o6JER66KnPeiGiC8idVDbDH4ilFmBBVEHvIwMfSRaVE3ta7FZS9u0m0bGo18MAXaGPWdfDgEAWwwBDtZKG5KcCIvRUue9hatb3BujOM4z072h3HaUcA5z2R0TcTm1z1eft/DvOTI/qxRPu9RHLwm7ynoND+uqY+AIpr9IzOeSdsFEk0rWysJ2yC2Uh3jCcg5+bCQXA20oHjZo3zYweTlDy6fH4u5fIRDGX3Xw2cV8qctqnWubod3OoSlCVD0BcC5fCZyp5vitt2WyO42cAemCr/XNpfBTgAl/ApEHlXIpS9ZoytauS1gK64tPvF4AVC7xSdAcUt0bQMcrfQFk9yMKHNSkn4AlIB8tXAGdHuDcpMrMLsWW9zI1BmPXJ6NsmS7lg/LaI5iYqV02lzZOGNCYsqwssBe/HOUxULpddY67c41G6qUVa88Ttn/bpP+StAuiTbYzWaD17cdDpbuNyQ/Aq4d/0vUwpSS/i98St9vtfqv4y+Z8mIoVFf3AAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"estable\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png\\\"\\n        srcset=\\\"/static/estable-53bc31251cd527b65d1333e8e979e55c-aed98.png 300w,\\n/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png 458w\\\"\\n        sizes=\\\"(max-width: 458px) 100vw, 458px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 292px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 34.24657534246575%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABeklEQVQoz22Q+0/acBTFG+drmP2yLLoxEaXFYmmxvAq0pR1YaFFBcY1s84Eatmz+/79/9i3LfCT8cJJzz7335J4rWbqCpSnYpopbV2nsGjhKHStj0FZq1NJFjgwXX7WIKl/omz69koMrese1LudOhCtXMDdVylsFpLsfIddxn1HH4vKigZupMPEmXLXHTDsxPcXjcTiln29zXg6JCj5h3qH+Xmcg+Nlhn9YHHW05i762hzQL73gIrhmbA+LqkEC2iZ0xs/Abl81TvjZHoh/TydnCMCAvpTlY3qG4tkvhzTbq0mc0wY23uTkkT1yUNPR1IaZyYjAr6sx8SV/fo7QhU0rJT3rC/y8bKfmpTmbnhr9G9/we3XLlX/Dz5IajXJOHwQ2z6DvTYMKfs3tuuzFOusqx5lFczT4bLoA0NHsESksYtejtu9gfTaID8Xih2Z9MvEwVf6dOY/MQX/Dii3gLDbvCqPxuX/xiex5JW8m+4kn0BNrqP/4y3iL8Be6V132UaWxeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"nc\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png\\\"\\n        srcset=\\\"/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png 292w\\\"\\n        sizes=\\\"(max-width: 292px) 100vw, 292px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 683px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 22.401171303074673%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxklEQVQY011O2QqDMBD0/z9NUPBCHxRjrabVtJ7RCuo0u21fOjDsHMsmVqOeEJcS16r+sK5Ryxvk7W58hUY9MC8rnl2PYZowTjNmvbCetMY4azMXzrTZs6qmh+M4yLIMvu8jTVPEcYw8z5EZLYTgzrZthEEAz/NQFAKu63JHu1JKrOsKgtV0Lw6HYeQfafNqFEUIwxBJkiAwR8qyxL7v6PsO/tdT37YtlFLYtg3neTKtTpM4+DoFhOM4+ABN4i//deRp/oPyN92DLNppyr01AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"es\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png\\\"\\n        srcset=\\\"/static/es-47cfa9b2e6912928883bbb43fcda81d3-59da6.png 300w,\\n/static/es-47cfa9b2e6912928883bbb43fcda81d3-2c5c0.png 600w,\\n/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png 683w\\\"\\n        sizes=\\\"(max-width: 683px) 100vw, 683px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>代码如下:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">package</span> run\\n\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>kafka<span class=\\\"token punctuation\\\">.</span>common<span class=\\\"token punctuation\\\">.</span>serialization<span class=\\\"token punctuation\\\">.</span>StringDeserializer\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>log4j<span class=\\\"token punctuation\\\">.</span>Logger\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">{</span>SparkConf<span class=\\\"token punctuation\\\">,</span> SparkContext<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>sql<span class=\\\"token punctuation\\\">.</span>SparkSession\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>dstream<span class=\\\"token punctuation\\\">.</span>DStream\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>kafka010<span class=\\\"token punctuation\\\">.</span>ConsumerStrategies<span class=\\\"token punctuation\\\">.</span>Subscribe\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>kafka010<span class=\\\"token punctuation\\\">.</span>KafkaUtils\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>kafka010<span class=\\\"token punctuation\\\">.</span>LocationStrategies<span class=\\\"token punctuation\\\">.</span>PreferConsistent\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">{</span>Seconds<span class=\\\"token punctuation\\\">,</span> StreamingContext<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>elasticsearch<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>rdd<span class=\\\"token punctuation\\\">.</span>EsSpark\\n\\n\\n<span class=\\\"token comment\\\">/**\\n  * @author wangjx\\n  * 测试kafka数据进行统计  kafka自身维护offset（建议使用自定义维护方式维护偏移量）\\n  */</span>\\n<span class=\\\"token keyword\\\">object</span> SparkStreamingAutoOffsetKafka <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">//定义样例类 与es表对应</span>\\n  <span class=\\\"token keyword\\\">case</span> <span class=\\\"token keyword\\\">class</span> people<span class=\\\"token punctuation\\\">(</span>name<span class=\\\"token operator\\\">:</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span>country<span class=\\\"token operator\\\">:</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span>age<span class=\\\"token operator\\\">:</span><span class=\\\"token builtin\\\">Int</span><span class=\\\"token punctuation\\\">)</span>\\n\\n  <span class=\\\"token keyword\\\">def</span> main<span class=\\\"token punctuation\\\">(</span>args<span class=\\\"token operator\\\">:</span> Array<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">Unit</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">val</span> logger <span class=\\\"token operator\\\">=</span> Logger<span class=\\\"token punctuation\\\">.</span>getLogger<span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>getClass<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">//spark 配置</span>\\n    <span class=\\\"token keyword\\\">val</span> conf <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> SparkConf<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>setAppName<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"SparkStreamingAutoOffsetKafka\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>setMaster<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"local[2]\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    conf<span class=\\\"token punctuation\\\">.</span>set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"es.index.auto.create\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">\\\"true\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    conf<span class=\\\"token punctuation\\\">.</span>set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"es.nodes\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">\\\"127.0.0.1\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    conf<span class=\\\"token punctuation\\\">.</span>set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"es.port\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">\\\"9200\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//spark streaming实时计算初始化 定义每10秒一个批次 准实时处理 企业一般都是准实时 比如每隔10秒统计近1分钟的数据等等</span>\\n    <span class=\\\"token keyword\\\">val</span> ssc <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> StreamingContext<span class=\\\"token punctuation\\\">(</span>conf<span class=\\\"token punctuation\\\">,</span> Seconds<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">10</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">val</span> spark <span class=\\\"token operator\\\">=</span> SparkSession<span class=\\\"token punctuation\\\">.</span>builder<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">.</span>config<span class=\\\"token punctuation\\\">(</span>conf<span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">.</span>getOrCreate<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    spark<span class=\\\"token punctuation\\\">.</span>sparkContext<span class=\\\"token punctuation\\\">.</span>setLogLevel<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"WARN\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">//设置kafka参数</span>\\n    <span class=\\\"token keyword\\\">val</span> kafkaParams <span class=\\\"token operator\\\">=</span> Map<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> Object<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token string\\\">\\\"bootstrap.servers\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token string\\\">\\\"x:9092\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"key.deserializer\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> classOf<span class=\\\"token punctuation\\\">[</span>StringDeserializer<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"value.deserializer\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> classOf<span class=\\\"token punctuation\\\">[</span>StringDeserializer<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"group.id\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token string\\\">\\\"exactly-once\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"auto.offset.reset\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token string\\\">\\\"latest\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"enable.auto.commit\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token boolean\\\">false</span><span class=\\\"token operator\\\">:</span> java<span class=\\\"token punctuation\\\">.</span>lang<span class=\\\"token punctuation\\\">.</span><span class=\\\"token builtin\\\">Boolean</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//kafka主题</span>\\n    <span class=\\\"token keyword\\\">val</span> topic <span class=\\\"token operator\\\">=</span> Set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"kafka8\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//从kafka获取数据</span>\\n    <span class=\\\"token keyword\\\">val</span> stream <span class=\\\"token operator\\\">=</span> KafkaUtils<span class=\\\"token punctuation\\\">.</span>createDirectStream<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">(</span>\\n      ssc<span class=\\\"token punctuation\\\">,</span>\\n      PreferConsistent<span class=\\\"token punctuation\\\">,</span>\\n      Subscribe<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">(</span>topic<span class=\\\"token punctuation\\\">,</span> kafkaParams<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//具体的业务逻辑</span>\\n    <span class=\\\"token keyword\\\">val</span> kafkaValue<span class=\\\"token operator\\\">:</span> DStream<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> stream<span class=\\\"token punctuation\\\">.</span>flatMap<span class=\\\"token punctuation\\\">(</span>line<span class=\\\"token keyword\\\">=></span>Some<span class=\\\"token punctuation\\\">(</span>line<span class=\\\"token punctuation\\\">.</span>value<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">val</span> peopleStream <span class=\\\"token operator\\\">=</span> kafkaValue\\n      <span class=\\\"token punctuation\\\">.</span>map<span class=\\\"token punctuation\\\">(</span>_<span class=\\\"token punctuation\\\">.</span>split<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\":\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token comment\\\">//形成people样例对象</span>\\n      <span class=\\\"token punctuation\\\">.</span>map<span class=\\\"token punctuation\\\">(</span>m<span class=\\\"token keyword\\\">=></span>people<span class=\\\"token punctuation\\\">(</span>m<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>m<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>m<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>toInt<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//存入ES</span>\\n    peopleStream<span class=\\\"token punctuation\\\">.</span>foreachRDD<span class=\\\"token punctuation\\\">(</span>rdd <span class=\\\"token keyword\\\">=></span><span class=\\\"token punctuation\\\">{</span>\\n      EsSpark<span class=\\\"token punctuation\\\">.</span>saveToEs<span class=\\\"token punctuation\\\">(</span>rdd<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"people/man\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//启动程序入口</span>\\n    ssc<span class=\\\"token punctuation\\\">.</span>start<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    ssc<span class=\\\"token punctuation\\\">.</span>awaitTermination<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\",\"fields\":{\"slug\":\"/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/\"},\"frontmatter\":{\"title\":\"简述大数据实时处理框架\",\"date\":\"2018-08-31\",\"catalog\":\"培训教程\",\"author\":\"皮蛋二哥\"}},\"allMarkdownRemark\":{\"edges\":[{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-ru-he-xie-yi-ge-gao-bi-ge-readme/howToWrite/\"},\"frontmatter\":{\"title\":\"\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-22-yi-reactnative-yu-ios-jiao-hu/\"},\"frontmatter\":{\"title\":\"【译】React Native与ios交互\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-11-yi-ni-er-duo-li-you-tiao-yu/\"},\"frontmatter\":{\"title\":\"【译】你耳朵里有条鱼\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-07-dapp-dev-practice/\"},\"frontmatter\":{\"title\":\"区块链上编程：DApp 开发实践\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-05-ni-ting-shuo-guo-yuan-sheng-html-zu-jian-ma/\"},\"frontmatter\":{\"title\":\"你听说过原生 HTML 组件吗？\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-28-yong-huo-zhuo-de-cnn-jin-hang-yan-zheng-ma-shi-bie/\"},\"frontmatter\":{\"title\":\"用“活着的”CNN进行验证码识别\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-27-yi-chao-shi-yong-7-ge-you-xiu-de-ui-jiao-hu-dong-hua-ji-qiao/\"},\"frontmatter\":{\"title\":\"【译】超实用！7 个优秀的 UI 交互动画技巧\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-guan-yu-http2-de-yan-jiu/\"},\"frontmatter\":{\"title\":\"关于 HTTP2 的研究\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-yi-android-lu-jing-dong-hua/\"},\"frontmatter\":{\"title\":\"【译】Android 路径动画\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25- heretic-judger-1/\"},\"frontmatter\":{\"title\":\"异端审判器！一个泛用型文本聚类模型的实现（1）\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-wo-men-ying-gai-zuo-xie-li-suo-neng-ji-de-you-hua/\"},\"frontmatter\":{\"title\":\"我们应该做些力所能及的优化\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-twenty-to-fifty-years-programming/\"},\"frontmatter\":{\"title\":\"【译】有哪些事情是编程 20 到 50 多年后才知道的？\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-24-mongodb-shi-wu/\"},\"frontmatter\":{\"title\":\"认识 MongoDB 4.0 的新特性——事务（Transactions）\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-19-yi-yu-yong-hu-lian-xi-zai-wang-ye-she-ji-zhong-rong-ru-you-mo/\"},\"frontmatter\":{\"title\":\"【译】与用户联系：在网页设计中融入幽默\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-19-yi-ru-he-she-ji-geng-hao-de-shu-ju-biao/\"},\"frontmatter\":{\"title\":\"【译】如何设计更好的数据表\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-13-yi-dao-shi-jian-xun-huan-ti-yin-fa-de-xie-an/\"},\"frontmatter\":{\"title\":\"一道事件循环题引发的血案\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-12-qian-duan-gong-cheng-hua-jiao-shou-jia/\"},\"frontmatter\":{\"title\":\"前端工程化：脚手架\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-12-qian-tan-vue-zhong-computed-shi-xian-yuan-li/\"},\"frontmatter\":{\"title\":\"浅谈 Vue 中 computed 实现原理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-11-http-de-qian-shi-jin-sheng/\"},\"frontmatter\":{\"title\":\"HTTP 的前世今生\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/\"},\"frontmatter\":{\"title\":\"简述大数据实时处理框架\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-22-shen-ru-promise/\"},\"frontmatter\":{\"title\":\"深入Promise\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-13-tcp-lian-jie-ji-chang-jian-gong-ji-shou-fa-fen-xi/\"},\"frontmatter\":{\"title\":\"要点梳理：TCP连接及常见攻击手法分析\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-13-ran-bing-luan-bf-ke-pu-bf-jie-shi-qi-de-js-shi-xian/\"},\"frontmatter\":{\"title\":\"然并卵：BF 科普 & BF 解释器的 JS 实现\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-10-dapp-kai-fa-jian-jie/\"},\"frontmatter\":{\"title\":\"DApp 开发简介\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-09-shi-lian-zhi-shi-performance/\"},\"frontmatter\":{\"title\":\"试炼之石-Performance\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-09-prolog/\"},\"frontmatter\":{\"title\":\"那迷人的被遗忘的语言：Prolog\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-08-qiao-qiao-xian-qi-webassembly-de-shen-mi-mian-sha/\"},\"frontmatter\":{\"title\":\"悄悄掀起 WebAssembly 的神秘面纱\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-16-fan-yi-2018-nian-12-zhong-yi-dong-duan-yong-hu-ti-yan-she-ji-qu-shi/\"},\"frontmatter\":{\"title\":\"【翻译】2018 年 12 种移动端用户体验设计趋势\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-08-fan-yi-mei-ge-uiux-she-ji-shi-du-xu-yao-zhi-dao-de-xin-li-xue-yuan-li/\"},\"frontmatter\":{\"title\":\"【翻译】每个 UI / UX 设计师都需要知道的心理学原理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-07-fan-yi-yan-fa-ren-yuan-de-sheng-chan-li-shi-fou-ke-yi-liang-hua/\"},\"frontmatter\":{\"title\":\"【翻译】研发人员的生产力是否可以量化\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-01-fan-yi-jie-he-tu-xing-he-yu-yin-jie-mian-ti-gong-geng-hao-de-yong-hu-ti-yan/\"},\"frontmatter\":{\"title\":\"【翻译】结合图形和语音界面，提供更好的用户体验\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-31-fan-yi-http1-dao-http2-de-yan-bian-ru-he-gai-bian-liao-web/\"},\"frontmatter\":{\"title\":\"【译】HTTP1 到 HTTP 2 的演变如何改变了 web\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-28-shui-dong-liao-wo-de-dom/\"},\"frontmatter\":{\"title\":\"谁动了我的 DOM？！\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-27-fan-yi-wei-kai-yuan-ruan-jian-she-ji/\"},\"frontmatter\":{\"title\":\"【翻译】为开源软件设计\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-27-fan-yi-nodejstwofactor-shen-fen-ren-zheng/\"},\"frontmatter\":{\"title\":\"【译】node.js Two-Factor 身份认证\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-react-server-side-render-with-hapi/\"},\"frontmatter\":{\"title\":\"服务端渲染和静态化\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-ru-he-xie-yi-ge-gao-bi-ge-readme/\"},\"frontmatter\":{\"title\":\"如何写一个高逼格 README\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-quan-zhan-gong-cheng-shi-zhi-lu-reactnative-zhi-sao-miao-er-wei-ma/\"},\"frontmatter\":{\"title\":\"全栈工程师之路-React Native之扫描二维码\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-22-wu-xian-wang-luo-ling-lei-xiu-tan/\"},\"frontmatter\":{\"title\":\"无线网络另类嗅探\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-19-fan-yi-shi-yong-de-ui-dong-hua-ji-qiao-gai-jin-ui-wei-jiao-hu-de-shi-yong-jian-yi/\"},\"frontmatter\":{\"title\":\"【翻译】实用的 UI 动画技巧——改进 UI 微交互的实用建议\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-19-reactref-zhi-bei-jiao-cheng/\"},\"frontmatter\":{\"title\":\"React ref 指北教程\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-18-fan-yi-how-to-prevent-your-node.js-process-from-crashing/\"},\"frontmatter\":{\"title\":\"【翻译】 如何使你的 Node 应用免于崩溃\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-17-yi-zhong-qian-hou-duan-fen-li-de-kua-yu-kai-fa-fang-shi/\"},\"frontmatter\":{\"title\":\"一种方便的跨域开发解决方案\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-16-yuan-chuang-ji-yu-babylonjs-shi-xian-3d-da-ji-xiao-guo/\"},\"frontmatter\":{\"title\":\"基于 Babylon.js 实现 3D 打击效果\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-13-fan-yi-ru-he-chuang-jian-jiao-hu-you-hao-de-biao-dan/\"},\"frontmatter\":{\"title\":\"【译】如何创建交互友好的表单\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-12-fan-yi-rang-wo-men-cong-ling-kai-shi-bian-bian-xie-yi-ge-web-fu-wu-qi/\"},\"frontmatter\":{\"title\":\"【译】让我们从零开始编写一个web服务器\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-11-bikeshedding/\"},\"frontmatter\":{\"title\":\"由屎色自行车棚引发的思考\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-11-xin-shou-shi-jiao-de-docker/\"},\"frontmatter\":{\"title\":\"新手视角的 Docker\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-07-fan-yi-ji-yu-cypress-ce-shi-react-ying-yong/\"},\"frontmatter\":{\"title\":\"【译】基于 Cypress 测试 React 应用\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-05-fan-yi-ru-he-zhao-dao-wan-mei-de-se-cai-da-pei-jie-shao-colorclaim/\"},\"frontmatter\":{\"title\":\"【译】如何找到完美的色彩搭配 - 介绍 ColorClaim\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-05-ru-he-shi-yong-mac-po-jie-wifi/\"},\"frontmatter\":{\"title\":\"如何使用Mac破解Wifi\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-05-yi-ge-chrome-kuo-zhan-jiu-zhe-yang-dan-sheng-liao/\"},\"frontmatter\":{\"title\":\"程序员偷懒指南——用chrome插件实现前端资讯推送\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-01-wei-xian-de-targetblank-yu-opener/\"},\"frontmatter\":{\"title\":\"危险的 target=\\\"_blank\\\" 与 “opener”\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-28-activerecord-he-datamappers-mo-shi-jian-jie/\"},\"frontmatter\":{\"title\":\"Active Record 和 Data Mappers 模式简介\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-26-bu-jin-jin-shi-piao-liang-tu-xiang-ru-he-qu-dong-yong-hu-ti-yan/\"},\"frontmatter\":{\"title\":\"【译】不仅仅是漂亮：图像如何驱动用户体验\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-23-css3-clip-path-yong-fa-jie-shao/\"},\"frontmatter\":{\"title\":\"CSS3 clip-path 用法介绍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-23-du-shu-bi-ji-ke-shi-hua-shi-yi-zhong-yi-shu-bu-zhi-shi-mei-xin-xi-tu-biao-she-ji-yuan-li-yu-jing-dian-an-li-xu-zhang/\"},\"frontmatter\":{\"title\":\"读书笔记：可视化是一种艺术 -《不只是美：信息图表设计原理与经典案例》序章\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-23-mei-ge-node-ying-yong-ke-neng-cun-zai-de-timing-attack-an-quan-lou-dong/\"},\"frontmatter\":{\"title\":\"每个 node 应用可能存在的 timing-attack 安全漏洞\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-09-zan-lai-liao-liao-vuecompile/\"},\"frontmatter\":{\"title\":\"咱来聊聊 Vue - compile\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-05-ji-yi-ci-jian-dan-de-csrf-gong-ji-shi-yan/\"},\"frontmatter\":{\"title\":\"记一次简单的 CSRF 攻击实验\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-04-fan-yi-reactscope-jie-shao/\"},\"frontmatter\":{\"title\":\"【译】React Scope介绍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-03-fan-yi-liu-ge-xuan-ze-ui-yan-se-de-ji-qiao/\"},\"frontmatter\":{\"title\":\"【译】六个选择UI颜色的技巧\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-03-huo-yong-git-apply-he-ru-patch-bu-ding/\"},\"frontmatter\":{\"title\":\"活用 git apply 合入 patch 补丁\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-03-wo-de-di-yi-ge-node-ming-ling-hang-gong-ju/\"},\"frontmatter\":{\"title\":\"我的第一个 Node 命令行工具\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-01-fan-yi-react-xin-de-contextapi/\"},\"frontmatter\":{\"title\":\"【译】React ⚛️  新的 Context API\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-29-kuai-su-da-jian-ni-de-github-page-ge-ren-bo-ke-ji-yu-createreactapp-de-dan-ye-mian-ying-yong-shi-jian/\"},\"frontmatter\":{\"title\":\"快速搭建你的 github pages 个人博客 —— 基于 Create-React-App 的单页面应用实践\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-28-redux-promise-middleware/\"},\"frontmatter\":{\"title\":\"一个插件让你在 Redux 中写 promise 事半功倍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-28-fan-yi-react-zu-jian-mo-shi/\"},\"frontmatter\":{\"title\":\"【译】React 组件设计模式基础\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-28-fan-yi-bu-yao-rang-yong-hu-zai-chan-pin-ti-yan-shang-shou-dao-cuo-zhe/\"},\"frontmatter\":{\"title\":\"【译】不要让用户在产品体验上受到挫折\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-27-javascript-mo-huan-dai-li/\"},\"frontmatter\":{\"title\":\"JavaScript 魔幻代理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-22-web-qian-duan-jian-dan-ding-yue-de-shi-xian/\"},\"frontmatter\":{\"title\":\"Web前端简单订阅的实现\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-21-how-django-works/\"},\"frontmatter\":{\"title\":\"从请求到响应 django 都做了哪些处理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-21-electron-with-react/\"},\"frontmatter\":{\"title\":\"React+Electron搭建一个桌面应用\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-20-fan-yi-ui-she-ji-zhong-de-ge-shi-ta-yuan-ze/\"},\"frontmatter\":{\"title\":\"【译】UI 设计中的格式塔原则\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-19-xia-yi-dai-tong-xin-xie-yi-quic/\"},\"frontmatter\":{\"title\":\"下一代通信协议：QUIC\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-19-fan-yi-shi-yong-css-zhui-zong-yong-hu/\"},\"frontmatter\":{\"title\":\"【译】使用 CSS 追踪用户\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-14-antd-yuan-ma-jie-du-notification/\"},\"frontmatter\":{\"title\":\"antd 源码解读 notification\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-14-ui-zhong-de-pai-ban-chu-xue-zhe-zhi-nan/\"},\"frontmatter\":{\"title\":\"【译】UI 中的排版：初学者指南\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-14-learn-koa-intro/\"},\"frontmatter\":{\"title\":\"koa包教包会(一)——白话koa\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-13-zi-ji-dong-shou-xie-yi-ge-simplevue/\"},\"frontmatter\":{\"title\":\"自己动手写一个 SimpleVue\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-12-translation-React-Animations-in-Depth/\"},\"frontmatter\":{\"title\":\"【译】React Web 动画的 5 种创建方式，每一种都不简单\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-10-ru-he-kuo-zhan-create-react-app-de-webpack-pei-zhi/\"},\"frontmatter\":{\"title\":\"如何扩展 Create React App 的 Webpack 配置\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-08-mapbox-gl-js/\"},\"frontmatter\":{\"title\":\"3D GIS 应用开发 —— 基于 Mapbox GL 的实践总结\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-07-the-importance-of-visual-appeal-in-web-design/\"},\"frontmatter\":{\"title\":\"【译】视觉吸引力在网页设计中的重要性\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-06-react-higher-order-component/\"},\"frontmatter\":{\"title\":\"React 高阶组件介绍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-05-to-vim/\"},\"frontmatter\":{\"title\":\"如何让 vim 成为我们的神器\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-05-d3-js-v3-data-driven-and-d3-force/\"},\"frontmatter\":{\"title\":\"D3.js 数据驱动 和 force 力学图讲解\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-05-create-a-redux-middleware/\"},\"frontmatter\":{\"title\":\"如何编写一个 Redux 中间件\"}}}]}},\"pathContext\":{\"slug\":\"/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/\"}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia-036e23ba142b7659c208.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"创宇前端 - 最酷开发者的技术分享\",\"author\":\"KnownsecFED\",\"siteUrl\":\"https://knownsec-fed.com\"}},\"markdownRemark\":{\"id\":\"/tmp/app/src/pages/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 1200px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFAv/EABUBAQEAAAAAAAAAAAAAAAAAAAME/9oADAMBAAIQAxAAAAFKlEcSaYZDo//EABsQAAIBBQAAAAAAAAAAAAAAAAECAwAEETEy/9oACAEBAAEFArSMMXhUhhhoafg7/8QAFxEAAwEAAAAAAAAAAAAAAAAAAQIQIv/aAAgBAwEBPwFzqf/EABYRAAMAAAAAAAAAAAAAAAAAAAEQMf/aAAgBAgEBPwERf//EABkQAAIDAQAAAAAAAAAAAAAAAAERAAIhIP/aAAgBAQAGPwJnVFUbz//EABkQAQEBAQEBAAAAAAAAAAAAAAEAMRFBUf/aAAgBAQABPyHigGj7NQkJAyT3ZPq0v//aAAwDAQACAAMAAAAQy/8A/8QAFxEAAwEAAAAAAAAAAAAAAAAAAAERMf/aAAgBAwEBPxCECw//xAAWEQADAAAAAAAAAAAAAAAAAAAAARH/2gAIAQIBAT8QW0M//8QAHRABAAMAAgMBAAAAAAAAAAAAAQARITFBUWGRwf/aAAgBAQABPxBI0hXo3x8m300reG/oHucApyAYIL8zQte7caoqt9z/2Q=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"bigdata\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg\\\"\\n        srcset=\\\"/static/header-e44c25c207e851b1aaf1667f2c83d95f-527f0.jpeg 300w,\\n/static/header-e44c25c207e851b1aaf1667f2c83d95f-9a7cd.jpeg 600w,\\n/static/header-e44c25c207e851b1aaf1667f2c83d95f-d6978.jpeg 1200w\\\"\\n        sizes=\\\"(max-width: 1200px) 100vw, 1200px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n      </p>\\n<h1>欢迎来到BigData的世界</h1>\\n<p>现如今，我们来到了数据时代，数据信息化与我们的生活与工作息息相关。此篇文章简述利用大数据框架，实时处理数据的流程与相关框架的介绍，主要包括：</p>\\n<blockquote>\\n<ul>\\n<li>数据实时处理的概念和意义</li>\\n<li>数据实时处理能做什么</li>\\n<li>数据实时处理架构简介</li>\\n<li>数据实时处理代码演示</li>\\n</ul>\\n</blockquote>\\n<h2>数据实时处理的概念和意义</h2>\\n<p>什么是数据实时处理呢？我个人对数据实时处理的理解为：数据从生成->实时采集->实时缓存存储->（准）实时计算->实时落地->实时展示->实时分析。这一个流程线下来，处理数据的速度在秒级甚至毫秒级。</p>\\n<p>数据实时处理有什么意义呢？我们得到数据可以进行数据分析，利用数据统计方法，从错综复杂的数据关系中梳理出事物的联系，比如发展趋势、影响因素、因果关系等。甚至建立一些BI，对一些数据的有用信息进行可视化呈现，并形成数据故事。</p>\\n<h2>数据实时处理能做什么</h2>\\n<h3>数据的实时计算</h3>\\n<p>何为数据的实时计算？我们从数据源端拿到数据，可能不尽如人意，我们想对得到的数据进行 ETL 操作、或者进行关联等等，那么我们就会用到数据的实时计算。目前主流的实时计算框架有 spark，storm，flink 等。</p>\\n<h3>数据的实时落地</h3>\\n<p>数据的实时落地，意思是将我们的源数据或者计算好的数据进行实时的存储。在大数据领域，推荐使用 HDFS，ES 等进行存储。</p>\\n<h3>数据的实时展示与分析</h3>\\n<p>我们拿到了数据，要会用数据的价值。数据的价值体现在数据中相互关联关系，或与历史关联，或能预测未来。我们实时得到数据，不仅能够利用前端框架进行实时展示，还可以对其中的一些数据进行算法训练，预测未来走势等。</p>\\n<p>example：</p>\\n<p>淘宝双 11 大屏，每年的双 11 是淘宝粉丝疯狂的日子。马云会在双 11 的当天在阿里总部竖起一面大的电子屏幕，展示淘宝这一天的成绩。例如成交额，访问人数，订单量，下单量，成交量等等。这个电子大屏的背后，就是用到的我们所说的数据的实时处理。首先，阿里的服务器遍布全国各地，这些服务器收集PC端、手机端等日志，上报到服务器，在服务上部署数据采集工具。接下来，由于数据量庞大，需要做数据的缓存缓冲处理。下一步，对原始日志进行实时的计算，比如筛选出上面所述的各个指标。最后，通过接口或者其他形式，进行前端屏幕的实时展示。</p>\\n<h2>数据实时处理架构简介</h2>\\n<p>接下来是我们介绍的重点，先放一张数据流程图：\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 864px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 23.148148148148145%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABSUlEQVQY0z2Qy0sCURjF558zaNGiaN++bdgiWkTholXbVu2EolIzLEkiEB/ZUKSYkKTOmOYj8zX3zp2np29u0OLA/S7n8J3vp/D5GBabwpjPwJkBuALwLPiOgGlyLFwLWDhStiXg2OJ/9sjDeeARMufZHMpl7gOJQhOt7gidwQTXJQ3JRw3FWg+MzLnqF/21kVLbGI4NaP0pzbr0PNcHYIzj/rWDZLGFW/IoyztxrO6nES9ouFE/sXaQRih8it1oGZXmCOETFUvbZ1iP3OGh0sNFXsdaJIOVvRQOYzWUG9/YPC4htBXFxlEWynm2jqBlq/uDdn+CK9oUyzeQfwsamshWe7SsKVsNJ4wazpCkxomiDvV9AIMaZl46MpN60qFYbEbnMwhOImYBP/i2ZGcJYuMTL3hSnuvAd4PZJYYuvW0IYf5x9ihDTH8B0bNiMm5vI34AAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"流程图\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png\\\"\\n        srcset=\\\"/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-2f6e1.png 300w,\\n/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-d5612.png 600w,\\n/static/liucheng-1630a69faba498c8c4f86a12c58b95ce-20e8a.png 864w\\\"\\n        sizes=\\\"(max-width: 864px) 100vw, 864px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n     </p>\\n<ul>\\n<li>数据采集端，选用目前采集数据的主流控件 flume。</li>\\n<li>数据缓冲缓存，选用分布式消息队列 kafka。</li>\\n<li>数据实时计算，选用 spark 计算引擎。</li>\\n<li>数据存储位置，选用分布式数据存储 ES。</li>\\n<li>其他，指从 ES 中拿到数据后进行可视化展示，数据分析等。</li>\\n</ul>\\n<p>下面将分别简单的介绍下各个组件：\\n</p>\\n<h3>flume</h3>\\n<p>flume 是一个分布式的数据收集系统,具有高可靠、高可用、事务管理、失败重启、聚合和传输等功能。数据处理速度快,完全可以用于生产环境。</p>\\n<p>flume 的核心概念有：event，agent，source，channel，sink</p>\\n<h4>event</h4>\\n<p>flume 的数据流由事件 (event) 贯穿始终。event 是 flume 的基本数据单位，它携带日志数据并且携带数据的头信息，这些 event 由 agent 外部的 source 生成，当 source 捕获事件后会进行特定的格式化，然后 source 会把事件推入 channel 中。可以把 channel 看作是一个缓冲区，它将保存事件直到 sink 处理完该事件。sink 负责持久化日志或者把事件推向另一个 source。</p>\\n<h4>agent</h4>\\n<p>flume 的核心是 agent。agent 是一个 java 进程,运行在日志收集端,通过 agent 接收日志,然后暂存起来,再发送到目的地。\\n每台机器运行一个 agent。\\nagent 里面可以包含多个 source，channel，sink。</p>\\n<h4>source</h4>\\n<p>source 是数据的收集端，负责将数据捕获后进行特殊的格式化，将数据封装到 event 里，然后将事件推入 channel 中。flume 提供了很多内置的 source，支持 avro,log4j,syslog 等等。如果内置的 source 无法满足环境的需求，flume 还支持自定义 source。</p>\\n<h4>channel</h4>\\n<p>channel 是连接 source 和 sink 的组件，大家可以将它看做一个数据的缓冲区（数据队列），它可以将事件暂存到内存中也可以持久化到本地磁盘上， 直到 sink 处理完该事件。两个较为常用的 channel，MemoryChannel 和 FileChannel。</p>\\n<h4>sink</h4>\\n<p>sink 从 channel 中取出事件，然后将数据发到别处，可以向文件系统、数据库、hadoop、kafka，也可以是其他 agent 的 source。</p>\\n<h3>flume 的可靠性与可恢复性</h3>\\n<ul>\\n<li>flume 的可靠性：当节点出现故障时，日志能够被传送到其他节点上而不会丢失。Flume 提供了可靠性保障，收到数据首先写到磁盘上，当数据传送成功后，再删除；如果数据发送失败，可以重新发送。</li>\\n<li>flume 的可恢复性：可恢复性是靠 channel。</li>\\n</ul>\\n<p>口述抽象，上两张官网贴图:</p>\\n<p>单个 agent 收集数据流程图</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 667px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 37.031484257871064%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABaElEQVQoz22R227TUBBF/f//wRPPBUoRNEIlhYoottPYjdI4QUmT1rfYPk7w7SzmJGAJxEhbI81lz54ZS+c5umnQVQXik+dnwQ6VxORRSLTd/gWTN3EVx7ys1+zD8NR34tjvsbrjkY6zaUGWZ4SZYhJsWO4i/rVDVbPYxcw2IUmuKEvV9+qyxKKuT4GuOfvt9ol3gyEXX8ZcDkeslkt019LIBrqtidKMVxcfeXvr8N2dksomPaFSWIvHFVdfx3waTbHnP3Aduy9q6or3N3cMvRW33pKBPWM8nbEKFmjdUaoC3/fYp+lv+aLQcX3eDMd8uJvgBWsic5M/pjX+JuLaXTBw5lyNHnh8eunTbdsKR4ntOFzbD/jeXFY2z+hFQ5Ik5PKoUgpPEBWm6SjTVZFTS30QBNzfT4jlMSYfZwWvb1w+f5tg6cPhvL+oMb6qflIUBUru8V8IeZomRPJpM7gTleaul04gN53zC0DTDnrgBajeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"agent\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png\\\"\\n        srcset=\\\"/static/agentone-cf2bad6bc004494608f4bd7a9361c771-9f8ae.png 300w,\\n/static/agentone-cf2bad6bc004494608f4bd7a9361c771-55498.png 600w,\\n/static/agentone-cf2bad6bc004494608f4bd7a9361c771-a7a2f.png 667w\\\"\\n        sizes=\\\"(max-width: 667px) 100vw, 667px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>多个 agent 协作处理数据流程图</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 758px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 48.54881266490765%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsSAAALEgHS3X78AAAB8ElEQVQoz3WSfY+aQBDG/f4fqGlyueo1vcqd1qqgIuCBIriwvIsoIDwd1nr3R6+bTDbZyTzz/Ga2h/fT3qJtUNc1rtfr3ze8323bUq6kqNA0NYpTjt1uC0WRYZkmwA7o2Y6D4zGDyzwYWxeux1GVFyRpisXGhrx+o/xRCN6a/P80rovey2gEZ7+HuXPwc6bjRTYQZzksx8OPyQpr08We8p278pwhcBfYmxPwg4q6LD74mgbtgRzeH7jvIwoDrAwLU9XEWNHBPJ+KzsjzHHEcwzA0rJRnMEeDzyzwIIAXxIjiBA25F4LF5SJm1hUFYYQ0zVDkR5xpPnGSwmEcGSG7hPOlL6H/SwMLM2Fistzg6/MM680WV5pryxh6/acnGqoisIZzHY+vC/A4E/OSZms8SAo0KmDUXVVV6OZOvA+nK4xlcupzBOS0KitaCgnWxN6dKIoo6UE1TLzKOhWpmC4NsaCcHIaU7yiqqkJR0BhOJ4GZJrHYtphjh5xkGS6EzTnHxtzCdpnoGoYhLNvFUjehajrKsvxnq44XQZprGC/fYB8CtN2Wvw0GUGQZB1KXCPlhKCNMjgJ5REjff2swCPP+D+/R/U3HjzHTbEwpHD+5Cd67BeQo4D50a4/BaIlHaU6COmHVAvkmchNFJ/rJP+yQ/wCbPu916QUDzAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"agents\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png\\\"\\n        srcset=\\\"/static/agentmany-3baa47c83896afad517a6f80541b6665-180cf.png 300w,\\n/static/agentmany-3baa47c83896afad517a6f80541b6665-b0bd1.png 600w,\\n/static/agentmany-3baa47c83896afad517a6f80541b6665-60707.png 758w\\\"\\n        sizes=\\\"(max-width: 758px) 100vw, 758px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h3>kafka</h3>\\n<p>Kafka 是一个高吞吐量的分布式发布-订阅消息系统。企业中一般使用 kafka 做消息中间件，做缓冲缓存处理。需要 zookeeper 分布式协调组件管理。</p>\\n<p>kafka 的设计目标：</p>\\n<ol>\\n<li>提供优秀的消息持久化能力，对 TB 级以上数据也能保证常数时间的访问性能。</li>\\n<li>高吞吐率。即使在非常廉价的机器上也能做到每台机每秒 100000 条消息的传输。</li>\\n<li>支持 kafka server 间的消息分区，及分布式消费，同时保证每个 partition 内的消息顺序传输。</li>\\n<li>同时支持离线数据处理和实时数据处理。</li>\\n</ol>\\n<p>kafka 核心概念</p>\\n<ul>\\n<li>broker：消息中间件处理结点，一个 kafka 节点就是一个 broker，多个 broker 可以组成一个 kafka 集群。</li>\\n<li>topic：主题，kafka 集群能够同时负责多个 topic 的分发。</li>\\n<li>partition：topic 物理上的分组，一个 topic 可以分为多个 partition，每个 partition 是一个有序的队列。</li>\\n<li>offset：每个 partition 都由一系列有序的、不可变的消息组成，这些消息被连续的追加到 partition 中。partition 中的每个消息都有一个连续的序列号叫做 offset，用于 partition 唯一标识一条消息。</li>\\n<li>producer：负责发布消息到 kafka broker。</li>\\n<li>consumer：消息消费者，向 kafka broker读取消息的客户端。</li>\\n<li>consumer group：每个 consumer 属于一个特定的 consumer group。</li>\\n</ul>\\n<p>贴两张官网图</p>\\n<p>prodecer-broker-consumer\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 696px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 42.38505747126437%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAABNElEQVQoz31Ri46EIAz0/z/wctnXuav4QAWfgCLMVe7cmL1Hk6ZkaKEzE+GX8N4/634+4q93xxoJZZENC4rxK61zmKYJeZah73sopcB5iaqqoLVGXdcoizLgA93neY5xHOFobovIWIdWW0jK3qxYnYehwY/4gYLXGCeFJGVgWREGipLjnqQB53WDW3yHpsf3LSP8E/2k0Y0KclCI8wqXpMCVcYh+CviW/kWqiE8L3hvaqDVY/9BuC2M0rg8W5PDf9I69zw03ivPqQvpfzNHzgsWu4I3A2/mGrCQt5xlmtiSP+9EfucPr+3kTeCC6lezQDSMy3uAUM3DRhpoQ/Q2vRAfR9qH/uWFHRsRE99HNuEkDQeYoosUYg5CSnFW4k/Cb66tdwNIU18slONw09NHpDEl9u8ufL+tsaKUwIWsAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"kafka\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png\\\"\\n        srcset=\\\"/static/kafka-b6e21b060850a0f9660f962f41857c8e-4ef7b.png 300w,\\n/static/kafka-b6e21b060850a0f9660f962f41857c8e-fb508.png 600w,\\n/static/kafka-b6e21b060850a0f9660f962f41857c8e-b4b7b.png 696w\\\"\\n        sizes=\\\"(max-width: 696px) 100vw, 696px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>分区图\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 616px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 53.08441558441559%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAACOUlEQVQoz22S3U/TYBjF+Vu90Fu90MRwyY1RiMYPMOLQsWHADMZUcM4FFlgGDmuUCeNrfKxj2VdHy9q13db+fFfEDcOTND19c57n7TnnGXBdl8vHccByztBaxyiNQ1T7GNOp0y3XdXAFQdDo7/EOuDjr1oCA9Ffd/cmOOYlUnGC/HUB117B1o491ld8/rPseMAW2BCifm0Q2FHLnabItP0edEFlpig+RGcKzn5AjTyAzx3apRXC1QNGw2BIXbZTrqE2rNzClNYiXFDblCpljg72zJN+152RUP5nFZ3x89YhYcJz8xG3s5VFhA5RrDbY0nYWaSrRQwbBavYGJssJ6VaXaaHJQtMgqCdL1ESRtlN/1x1QqIfT8Lq5RFS1tWsJn3ep4wo2OI757ct0LDy9KadjMpKr8KsWJF4ZIF5+SjgZ4M+5n+m0Q/+sAa+EpdnIyvsQpp7rJQbuDVD27KvlfWn/NzqlfieXvsyI/RFp+wHp4mP34e7Y/BzhKhHAs3Us2KyRHTitE8yUMu09yF1piHcxWm+5F29VFFnJ3+HI0SOzkLntCclM9F6yO12S23T7J7hXJ3tokFZXlco1vh2V8S2WSuVmmM7eI7gwiLfiYHH2Jb2ycvRc3YWmE1VyTd0kZ2RR+mzaSyKDd6fT+cEXRSIlQtGbTU/1DDhOUbjCfuUcqNkRqbpjdpXlqsTGszUURCzhiwJrwLiSXWC1WPQvcy4H/L2nT1lB0mbpeoGacYDvqtSvdxc41y/0Hu5knk/Fry1QAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"kafkas\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png\\\"\\n        srcset=\\\"/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-e3f69.png 300w,\\n/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-990cf.png 600w,\\n/static/kafkapar-f18d0f6ae7c3aa54d5f98897d2c67c2a-5f9af.png 616w\\\"\\n        sizes=\\\"(max-width: 616px) 100vw, 616px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h3>spark</h3>\\n<p>spark 是一个分布式的计算框架，是我目前认为最火的计算框架。</p>\\n<p>spark，是一种”one stack to rulethem all”的大数据计算框架,期望使用一个技术栈就完美地解决大数据领域的各种计算任务。apache 官方,对 spark 的定义是:通用的大数据快速处理引擎（一“栈”式）。</p>\\n<h4>spark组成</h4>\\n<ol>\\n<li>spark core 用于离线计算</li>\\n<li>spark sql 用于交互式查询</li>\\n<li>spark streaming，structed streaming 用于实时流式计算</li>\\n<li>spark MLlib 用于机器学习</li>\\n<li>spark GraphX 用于图计算</li>\\n</ol>\\n<h4>spark 特点</h4>\\n<ol>\\n<li>速度快：spar k基于内存进行计算(当然也有部分计算基于磁盘,比如 shuffle)。</li>\\n<li>容易上手开发：spark 的基于 rdd 的计算模型，比 hadoop 的基于 map-reduce 的计算模型要更加易于理解,更加易于上手开发,实现各种复杂功能。</li>\\n<li>通用性：spark 提供的技术组件,可以一站式地完成大数据领域的离线批处理、交互式查询、流式计算、机器学习、图计算等常见的任务。</li>\\n<li>与其他技术的完美集成：例如 hadoop，hdfs、hive、hbase 负责存储，yarn 负责资源调度，spark 负责大数据计算。</li>\\n<li>极高的活跃度：spark 目前是 apache 的顶级项目,全世界有大量的优秀工程师是 spark 的 committer，并且世界上很多顶级的 IT 公司都在大规模地使用 spark。</li>\\n</ol>\\n<p>贴个spark架构图\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/spark-216a1e252f7e5ab82723b92ce15241ed-c56ad.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 1200px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 55.91572123176661%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAAC+klEQVQoz22QW0yTZxzGXxOjiVqlkwp4YENgixt4StAZUZkRtTIYTjfRKRPxwmiilqo3kug2ETcqZvGAGk1cYnaAi8XExMRkiXfOmVLEWsrX8iGiAQr9vvaz5yK/vfFWL578n//hed4nr4jH4viVCN2uKH2+GMlEEsVr8PiRjk8JoQUNujp1XE6D4aEI8VgMr8fgaZeB0msQGhtl1P0YfcBPQmrFq8EoWZY0ubkT5C5Ic/9eiE8KE5hMsLIkQdtFDbN5gpmmNzQciUuzODlZKT5bNE7+IvD8+RfOxYKn+0qJyMeEX9EwzUgzfz5kzk7x4B+NjwuSzJkjDVckuHFVJzt7AovlDccaYqj+1+TnpVhbOk7xcnD/3s4zqwV33WqisShiNBBmf22QKqtGbU2Qm9eC1O/RZB/iQL3Orw6drytDVFeE+KFR5/YtjV3bg1Rbx7DZk7y424H7qzy8hyvefodQ/SEmTwUh3oXZAh9kwUzz+/ez5kJPewedxYLumqUkU2mZcMSgflsfO8p9fGf1s9uqsLO8h52bfNRW+qmrUtj7bYDva8Jy52NPhZ9dsn5T5uHQ7n4G7t3BU7eC/tYG0uPjiMjQAL2VZrzrJ+PdMAXlywyU7Tn0bJ6GZ9M0uj8XvHLsxXjwG+5Vgh7rdDwbp8qbufRWZNC5ZjrOdbPo3lpIKvpaGg4P4tryEc4vMnGut+CqzEfZWoSyOhNvaSae4kkMNu4n+PdtnhUJObPgXZWBr7qIrqpCXBssdJZl8EQaxkIaIildB640orYcxnf+CCMtdg6eLWHh2SyWnsulqCmHzbfK2fJHFYub5rGkeQEFzdnUNi3hheMoaqsNX/NB1LZThHVdJnyp8uhTwb95gocFAudCwY0SwakyQdNawU+lgks7zFzeZuKM5Gfk7PQ6QdtKwX/5Uic1Dz+UfJkgHBhGGGMB+i+fRD1vQ71wjL4LdoZkyuDPdsZ+sTMq68g5GwHJNcdxiRPoEsMt8rbV/lajOmw8v/4jESPM/5bWRydMtgHdAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"spark\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/spark-216a1e252f7e5ab82723b92ce15241ed-abe1c.png\\\"\\n        srcset=\\\"/static/spark-216a1e252f7e5ab82723b92ce15241ed-10046.png 300w,\\n/static/spark-216a1e252f7e5ab82723b92ce15241ed-3c4a3.png 600w,\\n/static/spark-216a1e252f7e5ab82723b92ce15241ed-abe1c.png 1200w,\\n/static/spark-216a1e252f7e5ab82723b92ce15241ed-c56ad.png 1234w\\\"\\n        sizes=\\\"(max-width: 1200px) 100vw, 1200px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>数据实时处理代码演示</h2>\\n<h3>搭建好各个集群环境</h3>\\n<p>需要搭建 flume 集群，kafka 集群，es 集群，zookeeper 集群，由于本例 spark 是在本地模式运行，所以无需搭建 spark 集群。</p>\\n<h3>配置好组件之间整合的配置文件</h3>\\n<p>搭建好集群后，根据集群组件直接的整合关系，配置好配置文件。其中主要的配置为 flume 的配置，如下图：</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 657px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 100.4566210045662%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsSAAALEgHS3X78AAAC0klEQVQ4y41U2XLaQBDUg2MnvuMz8QX4AmlXBwKBAAFCnMY4duX6/z/p9CgJkQvs+GFqV6vVqKe7Zwx16kPn61CfPWiJQxv2eZVRgX0m4cPmHfuk/O95z4Rey8P+cLkQRnjVQHARoMbweblSCGHvW7A/mvyQ6yc33et3F9CrOa65eTL9vrCY8FttinGpjXu7j16hjohInPUr6MwlvQTJsmRpQklQI6LmsYPwQMPfuoXDF4poJPRa4VmClxLNE7rkxSVHLnlzT8vwcgHK/InHMz9XS8t+rcTFksMHjK0u7t0hBrctDM0upnaCLsv/4o8R52tvTpYm7FPh6NhFm6iaVDii0lJ+nXs5KwsFwukrCbPvjBI/sLaLMLe5yn7rBhZfmCvnsKiouXKBEvfy0UuRTWrMGg9IdA8jf4QeSx95Q3QvQySXjVT1O57NnD5aRB6R1w792T6rIia/Eh4BPEP4sz7DpNjGIzmc3EZ4Ko8wI4ffaac7K8YTefwRztAgLZIwpmjOxhXs9RdKfnAHRBPSix0kRDQx4xTdVPUwoT/Fo02iC4/slEtL7ETVTTF6ptx5yV+DKQY3LUx1ghFVFoOPS90U2ZDPI6KWM/lpRIvVDzUquyYbgFbbWBTLqLGtxMwVilLeuE5XeQ52S/C35byY7quMYOf3Wt4pkgJnqfqGxYSKl5SsBwqKRrYk9hU0z9L3HAaKyRStpPgT6SBxwLLuMSYUIWZpY2eAPhVtkce+itEhDQl57XJ1pFuoZjosiM7OJFhA+EhRBuRnyg4ZXzcRswXvqLpEjxPonkqLwatSpoy2jABLO0WTNyVcCMF/9mJsvXkNh6hcJvJIiStBbv/XhkbCkiOW2qG5W1RUokfUERFWidY78aBoGRmyevNmYfosJBRTd3g5YU+3+XH3POC+huaRg0CGrJQo02Y1P+fuVYQWL6Y9S6OKac3MXgys3zhY/8Yv53E//87mDeoAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"flume\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png\\\"\\n        srcset=\\\"/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-b4100.png 300w,\\n/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-b5002.png 600w,\\n/static/flumeconf-9a8ecd1fb31a697e4686d8abbe753323-d3eb9.png 657w\\\"\\n        sizes=\\\"(max-width: 657px) 100vw, 657px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>可以看到，我们的 agent 的 source 为 r1，channel 为 c1，sink 为 k1，source 为我本地 nc 服务，收集日志时，只需要打开 9999 端口就可以把日志收集。channel 选择为 memory 内存模式。sink 为 kafka 的 topic8 主题。</p>\\n<h3>开启各个集群进程</h3>\\n<ol>\\n<li>开启 zookeeper 服务。其中 QuorumPeerMain 为 zookeeper 进程。</li>\\n<li>开启 kafka 服务。</li>\\n<li>开启 es 服务。</li>\\n<li>开启 flume 服务。其中 Application 为 flume 进程。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 218px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 66.97247706422019%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACgUlEQVQ4y31TZ2/aQBhGrbrSFaUjiQIZZQ8bsM0ImOEBdrwwYKiBklRqK1X9/9+fvndJEWqlfjid77Xv4VkkQsnGVouwNWIYlwqC+hhBbQRXMOBXTYSyBTvfhV+3sWi5mFQNGBkVy2sf9dcZlJ9dQXjxabcSVmGACYGEigPjqoF+SoGR7mDacDBv2BheNGFmrmEVhwgIzMqr6CUVjLJdAsz+CzjKqpjKNjzRpAs6mu/KmDU9zBUbX0cxZ9I4KiKTOEX+URL5x0kUn5yj8DiFyvN7sD/7PWCuD0/QiJGLuOOheVSCnu5y1p0TEa33FWKS4x+LB2kIBw9sHvZ9sHvJJZ2YmVgNIvwKtlAO89yjb84XDM9lzmr/wv8WA0987kxIVoBQsjhYULcQNR241THUEwGlpxfk0yVf7MLfz/s7ZxiSfxMC8ylZ9VSESWaH0hiOYPKQaq8yaJCv9Td5VF+mac9BPizQPAvpbQEizWpkCXvHGa56M9yaK2wGM84oanlYk/x1f0opu7jVZrgzY2y0BTb9EKtuwENb9+fc+3VviphmNUqcAw4vW7BLQ+rcCDN5jPZHgc4a7OKAqtGBftXCDZ0XbZ/XZkwzt2IQGD3nulQhmddnJ5ldnJNnEyr4nRFRqmVE7QDrYYRJzYRbHnAw1gL2B2DF9sQRKZoTM59+sM0rxFLnDJcUyoYkrnohOscVqGcynLLOi+4LQx4W87mfkpFOHFMPU5T8GU+fAbHQ9utDPewRgEYydAySEpfAzh6l7ItsrvGzeibxcBQKhIXBQtivy66HgXSDBdXmVo/w3Yq55AVJ/jn9gbjtENMbhCR9qy8pgJCHd2cs0fpQ2bHbX78BmaydzBlsjVsAAAAASUVORK5CYII='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"thread\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png\\\"\\n        srcset=\\\"/static/thread-3bdd9f3d0ef7415545a2f626d4d44e69-91afe.png 218w\\\"\\n        sizes=\\\"(max-width: 218px) 100vw, 218px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </li>\\n</ol>\\n<h3>创建好 es 对应 table</h3>\\n<p>创建好 es 对应的表，表有三个字段，对应代码里面的 case class（代码随后贴上）。</p>\\n<p>\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 458px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 105.02183406113537%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAACj0lEQVQ4y51VaXOiQBD1//+1rf24ldvEGBNFhGEOYBjg7esmmJhYZmunqu05H92vDxex9kjVAcnk6CjJHNBz3ZcZhq5DPwzo+/4og0jqMHzZ7/uBZwmLpq5RHXIYSr7bInt7xSHbIe7XSARsmpbSwHsP5wPa4DD6AjH1qPlWxDkHF2p03mAhi8paFKWBMRVM9SFlWaoURaHaGAPLu+ek4n3RC7m03W5xdXWF9Xqt8yzLsFqtsFwusXxY4vr6Grc3N3h6fNSzS7IQV9QdWio6hKDaO3GRe4F7dYOK7lZ0L7y7+P2dvHET4AwiuiNvbdvqoWsCQororMHu8Y7WPyFyr26jnssb4VDuR75zfL+QjflLwsME9rGWM5u9wb4+o6JER66KnPeiGiC8idVDbDH4ilFmBBVEHvIwMfSRaVE3ta7FZS9u0m0bGo18MAXaGPWdfDgEAWwwBDtZKG5KcCIvRUue9hatb3BujOM4z072h3HaUcA5z2R0TcTm1z1eft/DvOTI/qxRPu9RHLwm7ynoND+uqY+AIpr9IzOeSdsFEk0rWysJ2yC2Uh3jCcg5+bCQXA20oHjZo3zYweTlDy6fH4u5fIRDGX3Xw2cV8qctqnWubod3OoSlCVD0BcC5fCZyp5vitt2WyO42cAemCr/XNpfBTgAl/ApEHlXIpS9ZoytauS1gK64tPvF4AVC7xSdAcUt0bQMcrfQFk9yMKHNSkn4AlIB8tXAGdHuDcpMrMLsWW9zI1BmPXJ6NsmS7lg/LaI5iYqV02lzZOGNCYsqwssBe/HOUxULpddY67c41G6qUVa88Ttn/bpP+StAuiTbYzWaD17cdDpbuNyQ/Aq4d/0vUwpSS/i98St9vtfqv4y+Z8mIoVFf3AAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"estable\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png\\\"\\n        srcset=\\\"/static/estable-53bc31251cd527b65d1333e8e979e55c-aed98.png 300w,\\n/static/estable-53bc31251cd527b65d1333e8e979e55c-afd52.png 458w\\\"\\n        sizes=\\\"(max-width: 458px) 100vw, 458px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 292px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 34.24657534246575%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABeklEQVQoz22Q+0/acBTFG+drmP2yLLoxEaXFYmmxvAq0pR1YaFFBcY1s84Eatmz+/79/9i3LfCT8cJJzz7335J4rWbqCpSnYpopbV2nsGjhKHStj0FZq1NJFjgwXX7WIKl/omz69koMrese1LudOhCtXMDdVylsFpLsfIddxn1HH4vKigZupMPEmXLXHTDsxPcXjcTiln29zXg6JCj5h3qH+Xmcg+Nlhn9YHHW05i762hzQL73gIrhmbA+LqkEC2iZ0xs/Abl81TvjZHoh/TydnCMCAvpTlY3qG4tkvhzTbq0mc0wY23uTkkT1yUNPR1IaZyYjAr6sx8SV/fo7QhU0rJT3rC/y8bKfmpTmbnhr9G9/we3XLlX/Dz5IajXJOHwQ2z6DvTYMKfs3tuuzFOusqx5lFczT4bLoA0NHsESksYtejtu9gfTaID8Xih2Z9MvEwVf6dOY/MQX/Dii3gLDbvCqPxuX/xiex5JW8m+4kn0BNrqP/4y3iL8Be6V132UaWxeAAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"nc\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png\\\"\\n        srcset=\\\"/static/nc-d0beee604ca12f63775a3af62144cba6-2cef2.png 292w\\\"\\n        sizes=\\\"(max-width: 292px) 100vw, 292px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    \\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 683px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 22.401171303074673%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAECAYAAACOXx+WAAAACXBIWXMAAAsSAAALEgHS3X78AAAAxklEQVQY011O2QqDMBD0/z9NUPBCHxRjrabVtJ7RCuo0u21fOjDsHMsmVqOeEJcS16r+sK5Ryxvk7W58hUY9MC8rnl2PYZowTjNmvbCetMY4azMXzrTZs6qmh+M4yLIMvu8jTVPEcYw8z5EZLYTgzrZthEEAz/NQFAKu63JHu1JKrOsKgtV0Lw6HYeQfafNqFEUIwxBJkiAwR8qyxL7v6PsO/tdT37YtlFLYtg3neTKtTpM4+DoFhOM4+ABN4i//deRp/oPyN92DLNppyr01AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"es\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png\\\"\\n        srcset=\\\"/static/es-47cfa9b2e6912928883bbb43fcda81d3-59da6.png 300w,\\n/static/es-47cfa9b2e6912928883bbb43fcda81d3-2c5c0.png 600w,\\n/static/es-47cfa9b2e6912928883bbb43fcda81d3-10a11.png 683w\\\"\\n        sizes=\\\"(max-width: 683px) 100vw, 683px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>代码如下:</p>\\n<div class=\\\"gatsby-highlight\\\">\\n      <pre class=\\\"language-scala\\\"><code><span class=\\\"token keyword\\\">package</span> run\\n\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>kafka<span class=\\\"token punctuation\\\">.</span>common<span class=\\\"token punctuation\\\">.</span>serialization<span class=\\\"token punctuation\\\">.</span>StringDeserializer\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>log4j<span class=\\\"token punctuation\\\">.</span>Logger\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">{</span>SparkConf<span class=\\\"token punctuation\\\">,</span> SparkContext<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>sql<span class=\\\"token punctuation\\\">.</span>SparkSession\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>dstream<span class=\\\"token punctuation\\\">.</span>DStream\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>kafka010<span class=\\\"token punctuation\\\">.</span>ConsumerStrategies<span class=\\\"token punctuation\\\">.</span>Subscribe\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>kafka010<span class=\\\"token punctuation\\\">.</span>KafkaUtils\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span>kafka010<span class=\\\"token punctuation\\\">.</span>LocationStrategies<span class=\\\"token punctuation\\\">.</span>PreferConsistent\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>apache<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>streaming<span class=\\\"token punctuation\\\">.</span><span class=\\\"token punctuation\\\">{</span>Seconds<span class=\\\"token punctuation\\\">,</span> StreamingContext<span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token keyword\\\">import</span> org<span class=\\\"token punctuation\\\">.</span>elasticsearch<span class=\\\"token punctuation\\\">.</span>spark<span class=\\\"token punctuation\\\">.</span>rdd<span class=\\\"token punctuation\\\">.</span>EsSpark\\n\\n\\n<span class=\\\"token comment\\\">/**\\n  * @author wangjx\\n  * 测试kafka数据进行统计  kafka自身维护offset（建议使用自定义维护方式维护偏移量）\\n  */</span>\\n<span class=\\\"token keyword\\\">object</span> SparkStreamingAutoOffsetKafka <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token comment\\\">//定义样例类 与es表对应</span>\\n  <span class=\\\"token keyword\\\">case</span> <span class=\\\"token keyword\\\">class</span> people<span class=\\\"token punctuation\\\">(</span>name<span class=\\\"token operator\\\">:</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span>country<span class=\\\"token operator\\\">:</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span>age<span class=\\\"token operator\\\">:</span><span class=\\\"token builtin\\\">Int</span><span class=\\\"token punctuation\\\">)</span>\\n\\n  <span class=\\\"token keyword\\\">def</span> main<span class=\\\"token punctuation\\\">(</span>args<span class=\\\"token operator\\\">:</span> Array<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token operator\\\">:</span> <span class=\\\"token builtin\\\">Unit</span> <span class=\\\"token operator\\\">=</span> <span class=\\\"token punctuation\\\">{</span>\\n    <span class=\\\"token keyword\\\">val</span> logger <span class=\\\"token operator\\\">=</span> Logger<span class=\\\"token punctuation\\\">.</span>getLogger<span class=\\\"token punctuation\\\">(</span><span class=\\\"token keyword\\\">this</span><span class=\\\"token punctuation\\\">.</span>getClass<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">//spark 配置</span>\\n    <span class=\\\"token keyword\\\">val</span> conf <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> SparkConf<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>setAppName<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"SparkStreamingAutoOffsetKafka\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>setMaster<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"local[2]\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    conf<span class=\\\"token punctuation\\\">.</span>set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"es.index.auto.create\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">\\\"true\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    conf<span class=\\\"token punctuation\\\">.</span>set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"es.nodes\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">\\\"127.0.0.1\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    conf<span class=\\\"token punctuation\\\">.</span>set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"es.port\\\"</span><span class=\\\"token punctuation\\\">,</span><span class=\\\"token string\\\">\\\"9200\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//spark streaming实时计算初始化 定义每10秒一个批次 准实时处理 企业一般都是准实时 比如每隔10秒统计近1分钟的数据等等</span>\\n    <span class=\\\"token keyword\\\">val</span> ssc <span class=\\\"token operator\\\">=</span> <span class=\\\"token keyword\\\">new</span> StreamingContext<span class=\\\"token punctuation\\\">(</span>conf<span class=\\\"token punctuation\\\">,</span> Seconds<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">10</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">val</span> spark <span class=\\\"token operator\\\">=</span> SparkSession<span class=\\\"token punctuation\\\">.</span>builder<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">.</span>config<span class=\\\"token punctuation\\\">(</span>conf<span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token punctuation\\\">.</span>getOrCreate<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    spark<span class=\\\"token punctuation\\\">.</span>sparkContext<span class=\\\"token punctuation\\\">.</span>setLogLevel<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"WARN\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n    <span class=\\\"token comment\\\">//设置kafka参数</span>\\n    <span class=\\\"token keyword\\\">val</span> kafkaParams <span class=\\\"token operator\\\">=</span> Map<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> Object<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">(</span>\\n      <span class=\\\"token string\\\">\\\"bootstrap.servers\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token string\\\">\\\"x:9092\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"key.deserializer\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> classOf<span class=\\\"token punctuation\\\">[</span>StringDeserializer<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"value.deserializer\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> classOf<span class=\\\"token punctuation\\\">[</span>StringDeserializer<span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"group.id\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token string\\\">\\\"exactly-once\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"auto.offset.reset\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token string\\\">\\\"latest\\\"</span><span class=\\\"token punctuation\\\">,</span>\\n      <span class=\\\"token string\\\">\\\"enable.auto.commit\\\"</span> <span class=\\\"token operator\\\">-</span><span class=\\\"token operator\\\">></span> <span class=\\\"token punctuation\\\">(</span><span class=\\\"token boolean\\\">false</span><span class=\\\"token operator\\\">:</span> java<span class=\\\"token punctuation\\\">.</span>lang<span class=\\\"token punctuation\\\">.</span><span class=\\\"token builtin\\\">Boolean</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//kafka主题</span>\\n    <span class=\\\"token keyword\\\">val</span> topic <span class=\\\"token operator\\\">=</span> Set<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\"kafka8\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//从kafka获取数据</span>\\n    <span class=\\\"token keyword\\\">val</span> stream <span class=\\\"token operator\\\">=</span> KafkaUtils<span class=\\\"token punctuation\\\">.</span>createDirectStream<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">(</span>\\n      ssc<span class=\\\"token punctuation\\\">,</span>\\n      PreferConsistent<span class=\\\"token punctuation\\\">,</span>\\n      Subscribe<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span><span class=\\\"token punctuation\\\">(</span>topic<span class=\\\"token punctuation\\\">,</span> kafkaParams<span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//具体的业务逻辑</span>\\n    <span class=\\\"token keyword\\\">val</span> kafkaValue<span class=\\\"token operator\\\">:</span> DStream<span class=\\\"token punctuation\\\">[</span><span class=\\\"token builtin\\\">String</span><span class=\\\"token punctuation\\\">]</span> <span class=\\\"token operator\\\">=</span> stream<span class=\\\"token punctuation\\\">.</span>flatMap<span class=\\\"token punctuation\\\">(</span>line<span class=\\\"token keyword\\\">=></span>Some<span class=\\\"token punctuation\\\">(</span>line<span class=\\\"token punctuation\\\">.</span>value<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token keyword\\\">val</span> peopleStream <span class=\\\"token operator\\\">=</span> kafkaValue\\n      <span class=\\\"token punctuation\\\">.</span>map<span class=\\\"token punctuation\\\">(</span>_<span class=\\\"token punctuation\\\">.</span>split<span class=\\\"token punctuation\\\">(</span><span class=\\\"token string\\\">\\\":\\\"</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n      <span class=\\\"token comment\\\">//形成people样例对象</span>\\n      <span class=\\\"token punctuation\\\">.</span>map<span class=\\\"token punctuation\\\">(</span>m<span class=\\\"token keyword\\\">=></span>people<span class=\\\"token punctuation\\\">(</span>m<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>m<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">1</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">,</span>m<span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">2</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span>toInt<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//存入ES</span>\\n    peopleStream<span class=\\\"token punctuation\\\">.</span>foreachRDD<span class=\\\"token punctuation\\\">(</span>rdd <span class=\\\"token keyword\\\">=></span><span class=\\\"token punctuation\\\">{</span>\\n      EsSpark<span class=\\\"token punctuation\\\">.</span>saveToEs<span class=\\\"token punctuation\\\">(</span>rdd<span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">\\\"people/man\\\"</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span>\\n    <span class=\\\"token comment\\\">//启动程序入口</span>\\n    ssc<span class=\\\"token punctuation\\\">.</span>start<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n    ssc<span class=\\\"token punctuation\\\">.</span>awaitTermination<span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span>\\n  <span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"token punctuation\\\">}</span>\\n</code></pre>\\n      </div>\",\"fields\":{\"slug\":\"/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/\"},\"frontmatter\":{\"title\":\"简述大数据实时处理框架\",\"date\":\"2018-08-31\",\"catalog\":\"培训教程\",\"author\":\"皮蛋二哥\"}},\"allMarkdownRemark\":{\"edges\":[{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-ru-he-xie-yi-ge-gao-bi-ge-readme/howToWrite/\"},\"frontmatter\":{\"title\":\"\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-22-yi-reactnative-yu-ios-jiao-hu/\"},\"frontmatter\":{\"title\":\"【译】React Native与ios交互\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-11-yi-ni-er-duo-li-you-tiao-yu/\"},\"frontmatter\":{\"title\":\"【译】你耳朵里有条鱼\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-07-dapp-dev-practice/\"},\"frontmatter\":{\"title\":\"区块链上编程：DApp 开发实践\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-10-05-ni-ting-shuo-guo-yuan-sheng-html-zu-jian-ma/\"},\"frontmatter\":{\"title\":\"你听说过原生 HTML 组件吗？\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-28-yong-huo-zhuo-de-cnn-jin-hang-yan-zheng-ma-shi-bie/\"},\"frontmatter\":{\"title\":\"用“活着的”CNN进行验证码识别\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-27-yi-chao-shi-yong-7-ge-you-xiu-de-ui-jiao-hu-dong-hua-ji-qiao/\"},\"frontmatter\":{\"title\":\"【译】超实用！7 个优秀的 UI 交互动画技巧\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-guan-yu-http2-de-yan-jiu/\"},\"frontmatter\":{\"title\":\"关于 HTTP2 的研究\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-yi-android-lu-jing-dong-hua/\"},\"frontmatter\":{\"title\":\"【译】Android 路径动画\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25- heretic-judger-1/\"},\"frontmatter\":{\"title\":\"异端审判器！一个泛用型文本聚类模型的实现（1）\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-wo-men-ying-gai-zuo-xie-li-suo-neng-ji-de-you-hua/\"},\"frontmatter\":{\"title\":\"我们应该做些力所能及的优化\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-25-twenty-to-fifty-years-programming/\"},\"frontmatter\":{\"title\":\"【译】有哪些事情是编程 20 到 50 多年后才知道的？\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-24-mongodb-shi-wu/\"},\"frontmatter\":{\"title\":\"认识 MongoDB 4.0 的新特性——事务（Transactions）\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-19-yi-yu-yong-hu-lian-xi-zai-wang-ye-she-ji-zhong-rong-ru-you-mo/\"},\"frontmatter\":{\"title\":\"【译】与用户联系：在网页设计中融入幽默\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-19-yi-ru-he-she-ji-geng-hao-de-shu-ju-biao/\"},\"frontmatter\":{\"title\":\"【译】如何设计更好的数据表\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-13-yi-dao-shi-jian-xun-huan-ti-yin-fa-de-xie-an/\"},\"frontmatter\":{\"title\":\"一道事件循环题引发的血案\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-12-qian-duan-gong-cheng-hua-jiao-shou-jia/\"},\"frontmatter\":{\"title\":\"前端工程化：脚手架\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-12-qian-tan-vue-zhong-computed-shi-xian-yuan-li/\"},\"frontmatter\":{\"title\":\"浅谈 Vue 中 computed 实现原理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-09-11-http-de-qian-shi-jin-sheng/\"},\"frontmatter\":{\"title\":\"HTTP 的前世今生\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/\"},\"frontmatter\":{\"title\":\"简述大数据实时处理框架\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-22-shen-ru-promise/\"},\"frontmatter\":{\"title\":\"深入Promise\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-13-tcp-lian-jie-ji-chang-jian-gong-ji-shou-fa-fen-xi/\"},\"frontmatter\":{\"title\":\"要点梳理：TCP连接及常见攻击手法分析\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-13-ran-bing-luan-bf-ke-pu-bf-jie-shi-qi-de-js-shi-xian/\"},\"frontmatter\":{\"title\":\"然并卵：BF 科普 & BF 解释器的 JS 实现\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-10-dapp-kai-fa-jian-jie/\"},\"frontmatter\":{\"title\":\"DApp 开发简介\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-09-shi-lian-zhi-shi-performance/\"},\"frontmatter\":{\"title\":\"试炼之石-Performance\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-09-prolog/\"},\"frontmatter\":{\"title\":\"那迷人的被遗忘的语言：Prolog\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-08-08-qiao-qiao-xian-qi-webassembly-de-shen-mi-mian-sha/\"},\"frontmatter\":{\"title\":\"悄悄掀起 WebAssembly 的神秘面纱\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-16-fan-yi-2018-nian-12-zhong-yi-dong-duan-yong-hu-ti-yan-she-ji-qu-shi/\"},\"frontmatter\":{\"title\":\"【翻译】2018 年 12 种移动端用户体验设计趋势\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-08-fan-yi-mei-ge-uiux-she-ji-shi-du-xu-yao-zhi-dao-de-xin-li-xue-yuan-li/\"},\"frontmatter\":{\"title\":\"【翻译】每个 UI / UX 设计师都需要知道的心理学原理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-07-fan-yi-yan-fa-ren-yuan-de-sheng-chan-li-shi-fou-ke-yi-liang-hua/\"},\"frontmatter\":{\"title\":\"【翻译】研发人员的生产力是否可以量化\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-04-01-fan-yi-jie-he-tu-xing-he-yu-yin-jie-mian-ti-gong-geng-hao-de-yong-hu-ti-yan/\"},\"frontmatter\":{\"title\":\"【翻译】结合图形和语音界面，提供更好的用户体验\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-31-fan-yi-http1-dao-http2-de-yan-bian-ru-he-gai-bian-liao-web/\"},\"frontmatter\":{\"title\":\"【译】HTTP1 到 HTTP 2 的演变如何改变了 web\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-28-shui-dong-liao-wo-de-dom/\"},\"frontmatter\":{\"title\":\"谁动了我的 DOM？！\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-27-fan-yi-wei-kai-yuan-ruan-jian-she-ji/\"},\"frontmatter\":{\"title\":\"【翻译】为开源软件设计\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-27-fan-yi-nodejstwofactor-shen-fen-ren-zheng/\"},\"frontmatter\":{\"title\":\"【译】node.js Two-Factor 身份认证\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-react-server-side-render-with-hapi/\"},\"frontmatter\":{\"title\":\"服务端渲染和静态化\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-ru-he-xie-yi-ge-gao-bi-ge-readme/\"},\"frontmatter\":{\"title\":\"如何写一个高逼格 README\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-25-quan-zhan-gong-cheng-shi-zhi-lu-reactnative-zhi-sao-miao-er-wei-ma/\"},\"frontmatter\":{\"title\":\"全栈工程师之路-React Native之扫描二维码\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-22-wu-xian-wang-luo-ling-lei-xiu-tan/\"},\"frontmatter\":{\"title\":\"无线网络另类嗅探\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-19-fan-yi-shi-yong-de-ui-dong-hua-ji-qiao-gai-jin-ui-wei-jiao-hu-de-shi-yong-jian-yi/\"},\"frontmatter\":{\"title\":\"【翻译】实用的 UI 动画技巧——改进 UI 微交互的实用建议\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-19-reactref-zhi-bei-jiao-cheng/\"},\"frontmatter\":{\"title\":\"React ref 指北教程\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-18-fan-yi-how-to-prevent-your-node.js-process-from-crashing/\"},\"frontmatter\":{\"title\":\"【翻译】 如何使你的 Node 应用免于崩溃\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-17-yi-zhong-qian-hou-duan-fen-li-de-kua-yu-kai-fa-fang-shi/\"},\"frontmatter\":{\"title\":\"一种方便的跨域开发解决方案\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-16-yuan-chuang-ji-yu-babylonjs-shi-xian-3d-da-ji-xiao-guo/\"},\"frontmatter\":{\"title\":\"基于 Babylon.js 实现 3D 打击效果\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-13-fan-yi-ru-he-chuang-jian-jiao-hu-you-hao-de-biao-dan/\"},\"frontmatter\":{\"title\":\"【译】如何创建交互友好的表单\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-12-fan-yi-rang-wo-men-cong-ling-kai-shi-bian-bian-xie-yi-ge-web-fu-wu-qi/\"},\"frontmatter\":{\"title\":\"【译】让我们从零开始编写一个web服务器\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-11-bikeshedding/\"},\"frontmatter\":{\"title\":\"由屎色自行车棚引发的思考\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-11-xin-shou-shi-jiao-de-docker/\"},\"frontmatter\":{\"title\":\"新手视角的 Docker\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-07-fan-yi-ji-yu-cypress-ce-shi-react-ying-yong/\"},\"frontmatter\":{\"title\":\"【译】基于 Cypress 测试 React 应用\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-05-fan-yi-ru-he-zhao-dao-wan-mei-de-se-cai-da-pei-jie-shao-colorclaim/\"},\"frontmatter\":{\"title\":\"【译】如何找到完美的色彩搭配 - 介绍 ColorClaim\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-05-ru-he-shi-yong-mac-po-jie-wifi/\"},\"frontmatter\":{\"title\":\"如何使用Mac破解Wifi\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-05-yi-ge-chrome-kuo-zhan-jiu-zhe-yang-dan-sheng-liao/\"},\"frontmatter\":{\"title\":\"程序员偷懒指南——用chrome插件实现前端资讯推送\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-03-01-wei-xian-de-targetblank-yu-opener/\"},\"frontmatter\":{\"title\":\"危险的 target=\\\"_blank\\\" 与 “opener”\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-28-activerecord-he-datamappers-mo-shi-jian-jie/\"},\"frontmatter\":{\"title\":\"Active Record 和 Data Mappers 模式简介\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-26-bu-jin-jin-shi-piao-liang-tu-xiang-ru-he-qu-dong-yong-hu-ti-yan/\"},\"frontmatter\":{\"title\":\"【译】不仅仅是漂亮：图像如何驱动用户体验\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-23-css3-clip-path-yong-fa-jie-shao/\"},\"frontmatter\":{\"title\":\"CSS3 clip-path 用法介绍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-23-du-shu-bi-ji-ke-shi-hua-shi-yi-zhong-yi-shu-bu-zhi-shi-mei-xin-xi-tu-biao-she-ji-yuan-li-yu-jing-dian-an-li-xu-zhang/\"},\"frontmatter\":{\"title\":\"读书笔记：可视化是一种艺术 -《不只是美：信息图表设计原理与经典案例》序章\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-23-mei-ge-node-ying-yong-ke-neng-cun-zai-de-timing-attack-an-quan-lou-dong/\"},\"frontmatter\":{\"title\":\"每个 node 应用可能存在的 timing-attack 安全漏洞\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-09-zan-lai-liao-liao-vuecompile/\"},\"frontmatter\":{\"title\":\"咱来聊聊 Vue - compile\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-05-ji-yi-ci-jian-dan-de-csrf-gong-ji-shi-yan/\"},\"frontmatter\":{\"title\":\"记一次简单的 CSRF 攻击实验\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-04-fan-yi-reactscope-jie-shao/\"},\"frontmatter\":{\"title\":\"【译】React Scope介绍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-03-fan-yi-liu-ge-xuan-ze-ui-yan-se-de-ji-qiao/\"},\"frontmatter\":{\"title\":\"【译】六个选择UI颜色的技巧\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-03-huo-yong-git-apply-he-ru-patch-bu-ding/\"},\"frontmatter\":{\"title\":\"活用 git apply 合入 patch 补丁\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-03-wo-de-di-yi-ge-node-ming-ling-hang-gong-ju/\"},\"frontmatter\":{\"title\":\"我的第一个 Node 命令行工具\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-02-01-fan-yi-react-xin-de-contextapi/\"},\"frontmatter\":{\"title\":\"【译】React ⚛️  新的 Context API\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-29-kuai-su-da-jian-ni-de-github-page-ge-ren-bo-ke-ji-yu-createreactapp-de-dan-ye-mian-ying-yong-shi-jian/\"},\"frontmatter\":{\"title\":\"快速搭建你的 github pages 个人博客 —— 基于 Create-React-App 的单页面应用实践\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-28-redux-promise-middleware/\"},\"frontmatter\":{\"title\":\"一个插件让你在 Redux 中写 promise 事半功倍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-28-fan-yi-react-zu-jian-mo-shi/\"},\"frontmatter\":{\"title\":\"【译】React 组件设计模式基础\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-28-fan-yi-bu-yao-rang-yong-hu-zai-chan-pin-ti-yan-shang-shou-dao-cuo-zhe/\"},\"frontmatter\":{\"title\":\"【译】不要让用户在产品体验上受到挫折\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-27-javascript-mo-huan-dai-li/\"},\"frontmatter\":{\"title\":\"JavaScript 魔幻代理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-22-web-qian-duan-jian-dan-ding-yue-de-shi-xian/\"},\"frontmatter\":{\"title\":\"Web前端简单订阅的实现\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-21-how-django-works/\"},\"frontmatter\":{\"title\":\"从请求到响应 django 都做了哪些处理\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-21-electron-with-react/\"},\"frontmatter\":{\"title\":\"React+Electron搭建一个桌面应用\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-20-fan-yi-ui-she-ji-zhong-de-ge-shi-ta-yuan-ze/\"},\"frontmatter\":{\"title\":\"【译】UI 设计中的格式塔原则\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-19-xia-yi-dai-tong-xin-xie-yi-quic/\"},\"frontmatter\":{\"title\":\"下一代通信协议：QUIC\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-19-fan-yi-shi-yong-css-zhui-zong-yong-hu/\"},\"frontmatter\":{\"title\":\"【译】使用 CSS 追踪用户\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-14-antd-yuan-ma-jie-du-notification/\"},\"frontmatter\":{\"title\":\"antd 源码解读 notification\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-14-ui-zhong-de-pai-ban-chu-xue-zhe-zhi-nan/\"},\"frontmatter\":{\"title\":\"【译】UI 中的排版：初学者指南\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-14-learn-koa-intro/\"},\"frontmatter\":{\"title\":\"koa包教包会(一)——白话koa\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-13-zi-ji-dong-shou-xie-yi-ge-simplevue/\"},\"frontmatter\":{\"title\":\"自己动手写一个 SimpleVue\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-12-translation-React-Animations-in-Depth/\"},\"frontmatter\":{\"title\":\"【译】React Web 动画的 5 种创建方式，每一种都不简单\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-10-ru-he-kuo-zhan-create-react-app-de-webpack-pei-zhi/\"},\"frontmatter\":{\"title\":\"如何扩展 Create React App 的 Webpack 配置\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-08-mapbox-gl-js/\"},\"frontmatter\":{\"title\":\"3D GIS 应用开发 —— 基于 Mapbox GL 的实践总结\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-07-the-importance-of-visual-appeal-in-web-design/\"},\"frontmatter\":{\"title\":\"【译】视觉吸引力在网页设计中的重要性\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-06-react-higher-order-component/\"},\"frontmatter\":{\"title\":\"React 高阶组件介绍\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-05-to-vim/\"},\"frontmatter\":{\"title\":\"如何让 vim 成为我们的神器\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-05-d3-js-v3-data-driven-and-d3-force/\"},\"frontmatter\":{\"title\":\"D3.js 数据驱动 和 force 力学图讲解\"}}},{\"node\":{\"fields\":{\"slug\":\"/2018-01-05-create-a-redux-middleware/\"},\"frontmatter\":{\"title\":\"如何编写一个 Redux 中间件\"}}}]}},\"pathContext\":{\"slug\":\"/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia/\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/2018-08-31-jian-shu-da-shu-ju-shi-shi-chu-li-kuang-jia.json\n// module id = 655\n// module chunks = 96922125034218"],"sourceRoot":""}